(function(I,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(I=typeof globalThis<"u"?globalThis:I||self,t(I.CruciblePlugin={},I.Vue))})(this,function(I,t){"use strict";var _e=!1;function Y(e,s,o){return Array.isArray(e)?(e.length=Math.max(e.length,s),e.splice(s,1,o),o):(e[s]=o,o)}function ie(e,s){if(Array.isArray(e)){e.splice(s,1);return}delete e[s]}function He(){return be().__VUE_DEVTOOLS_GLOBAL_HOOK__}function be(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Ge=typeof Proxy=="function",Je="devtools-plugin:setup",We="plugin:settings:set";let D,re;function Ye(){var e;return D!==void 0||(typeof window<"u"&&window.performance?(D=!0,re=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(D=!0,re=globalThis.perf_hooks.performance):D=!1),D}function Ke(){return Ye()?re.now():Date.now()}class Xe{constructor(s,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=o;const n={};if(s.settings)for(const r in s.settings){const c=s.settings[r];n[r]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${s.id}`;let a=Object.assign({},n);try{const r=localStorage.getItem(i),c=JSON.parse(r);Object.assign(a,c)}catch{}this.fallbacks={getSettings(){return a},setSettings(r){try{localStorage.setItem(i,JSON.stringify(r))}catch{}a=r},now(){return Ke()}},o&&o.on(We,(r,c)=>{r===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(r,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(r,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:c,args:l,resolve:u})})})}async setRealTarget(s){this.target=s;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function ye(e,s){const o=e,n=be(),i=He(),a=Ge&&o.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(Je,e,s);else{const r=a?new Xe(o,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:s,proxy:r}),r&&s(r.proxiedTarget)}}/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let F;const U=e=>F=e,Se=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function M(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var q;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(q||(q={}));const K=typeof window<"u",v=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&K,ke=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function Ze(e,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function ae(e,s,o){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Te(n.response,s,o)},n.onerror=function(){console.error("could not download file")},n.send()}function Ee(e){const s=new XMLHttpRequest;s.open("HEAD",e,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function X(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}const Z=typeof navigator=="object"?navigator:{userAgent:""},Ne=/Macintosh/.test(Z.userAgent)&&/AppleWebKit/.test(Z.userAgent)&&!/Safari/.test(Z.userAgent),Te=K?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Ne?et:"msSaveOrOpenBlob"in Z?tt:nt:()=>{};function et(e,s="download",o){const n=document.createElement("a");n.download=s,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?Ee(n.href)?ae(e,s,o):(n.target="_blank",X(n)):X(n)):(n.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){X(n)},0))}function tt(e,s="download",o){if(typeof e=="string")if(Ee(e))ae(e,s,o);else{const n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){X(n)})}else navigator.msSaveOrOpenBlob(Ze(e,o),s)}function nt(e,s,o,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return ae(e,s,o);const i=e.type==="application/octet-stream",a=/constructor/i.test(String(ke.HTMLElement))||"safari"in ke,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&a||Ne)&&typeof FileReader<"u"){const c=new FileReader;c.onloadend=function(){let l=c.result;if(typeof l!="string")throw n=null,new Error("Wrong reader.result type");l=r?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location.assign(l),n=null},c.readAsDataURL(e)}else{const c=URL.createObjectURL(e);n?n.location.assign(c):location.href=c,n=null,setTimeout(function(){URL.revokeObjectURL(c)},4e4)}}function k(e,s){const o="ðŸ "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,s):s==="error"?console.error(o):s==="warn"?console.warn(o):console.log(o)}function ce(e){return"_a"in e&&"install"in e}function we(){if(!("clipboard"in navigator))return k("Your browser doesn't support the Clipboard API","error"),!0}function Ce(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(k('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function ot(e){if(!we())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),k("Global state copied to clipboard.")}catch(s){if(Ce(s))return;k("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function st(e){if(!we())try{$e(e,JSON.parse(await navigator.clipboard.readText())),k("Global state pasted from clipboard.")}catch(s){if(Ce(s))return;k("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function it(e){try{Te(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){k("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let L;function rt(){L||(L=document.createElement("input"),L.type="file",L.accept=".json");function e(){return new Promise((s,o)=>{L.onchange=async()=>{const n=L.files;if(!n)return s(null);const i=n.item(0);return s(i?{text:await i.text(),file:i}:null)},L.oncancel=()=>s(null),L.onerror=o,L.click()})}return e}async function at(e){try{const o=await rt()();if(!o)return;const{text:n,file:i}=o;$e(e,JSON.parse(n)),k(`Global state imported from "${i.name}".`)}catch(s){k("Failed to import the state from JSON. Check the console for more details.","error"),console.error(s)}}function $e(e,s){for(const o in s){const n=e.state.value[o];n?Object.assign(n,s[o]):e.state.value[o]=s[o]}}function V(e){return{_custom:{display:e}}}const Oe="ðŸ Pinia (root)",le="_root";function ct(e){return ce(e)?{id:le,label:Oe}:{id:e.$id,label:e.$id}}function lt(e){if(ce(e)){const o=Array.from(e._s.keys()),n=e._s;return{state:o.map(a=>({editable:!0,key:a,value:e.state.value[a]})),getters:o.filter(a=>n.get(a)._getters).map(a=>{const r=n.get(a);return{editable:!1,key:a,value:r._getters.reduce((c,l)=>(c[l]=r[l],c),{})}})}}const s={state:Object.keys(e.$state).map(o=>({editable:!0,key:o,value:e.$state[o]}))};return e._getters&&e._getters.length&&(s.getters=e._getters.map(o=>({editable:!1,key:o,value:e[o]}))),e._customProperties.size&&(s.customProperties=Array.from(e._customProperties).map(o=>({editable:!0,key:o,value:e[o]}))),s}function ut(e){return e?Array.isArray(e)?e.reduce((s,o)=>(s.keys.push(o.key),s.operations.push(o.type),s.oldValue[o.key]=o.oldValue,s.newValue[o.key]=o.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:V(e.type),key:V(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function dt(e){switch(e){case q.direct:return"mutation";case q.patchFunction:return"$patch";case q.patchObject:return"$patch";default:return"unknown"}}let j=!0;const ee=[],x="pinia:mutations",E="pinia",{assign:ft}=Object,te=e=>"ðŸ "+e;function mt(e,s){ye({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e},o=>{typeof o.now!="function"&&k("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:x,label:"Pinia ðŸ",color:15064968}),o.addInspector({id:E,label:"Pinia ðŸ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{ot(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await st(s),o.sendInspectorTree(E),o.sendInspectorState(E)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{it(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await at(s),o.sendInspectorTree(E),o.sendInspectorState(E)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:n=>{const i=s._s.get(n);i?typeof i.$reset!="function"?k(`Cannot reset "${n}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),k(`Store "${n}" reset.`)):k(`Cannot reset "${n}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((n,i)=>{const a=n.componentInstance&&n.componentInstance.proxy;if(a&&a._pStores){const r=n.componentInstance.proxy._pStores;Object.values(r).forEach(c=>{n.instanceData.state.push({type:te(c.$id),key:"state",editable:!0,value:c._isOptionsAPI?{_custom:{value:t.toRaw(c.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>c.$reset()}]}}:Object.keys(c.$state).reduce((l,u)=>(l[u]=c.$state[u],l),{})}),c._getters&&c._getters.length&&n.instanceData.state.push({type:te(c.$id),key:"getters",editable:!1,value:c._getters.reduce((l,u)=>{try{l[u]=c[u]}catch(h){l[u]=h}return l},{})})})}}),o.on.getInspectorTree(n=>{if(n.app===e&&n.inspectorId===E){let i=[s];i=i.concat(Array.from(s._s.values())),n.rootNodes=(n.filter?i.filter(a=>"$id"in a?a.$id.toLowerCase().includes(n.filter.toLowerCase()):Oe.toLowerCase().includes(n.filter.toLowerCase())):i).map(ct)}}),o.on.getInspectorState(n=>{if(n.app===e&&n.inspectorId===E){const i=n.nodeId===le?s:s._s.get(n.nodeId);if(!i)return;i&&(n.state=lt(i))}}),o.on.editInspectorState((n,i)=>{if(n.app===e&&n.inspectorId===E){const a=n.nodeId===le?s:s._s.get(n.nodeId);if(!a)return k(`store "${n.nodeId}" not found`,"error");const{path:r}=n;ce(a)?r.unshift("state"):(r.length!==1||!a._customProperties.has(r[0])||r[0]in a.$state)&&r.unshift("$state"),j=!1,n.set(a,r,n.state.value),j=!0}}),o.on.editComponentState(n=>{if(n.type.startsWith("ðŸ")){const i=n.type.replace(/^ðŸ\s*/,""),a=s._s.get(i);if(!a)return k(`store "${i}" not found`,"error");const{path:r}=n;if(r[0]!=="state")return k(`Invalid path for store "${i}":
${r}
Only state can be modified.`);r[0]="$state",j=!1,n.set(a,r,n.state.value),j=!0}})})}function pt(e,s){ee.includes(te(s.$id))||ee.push(te(s.$id)),ye({id:"dev.esm.pinia",label:"Pinia ðŸ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const n=typeof o.now=="function"?o.now.bind(o):Date.now;s.$onAction(({after:r,onError:c,name:l,args:u})=>{const h=Ve++;o.addTimelineEvent({layerId:x,event:{time:n(),title:"ðŸ›« "+l,subtitle:"start",data:{store:V(s.$id),action:V(l),args:u},groupId:h}}),r(p=>{P=void 0,o.addTimelineEvent({layerId:x,event:{time:n(),title:"ðŸ›¬ "+l,subtitle:"end",data:{store:V(s.$id),action:V(l),args:u,result:p},groupId:h}})}),c(p=>{P=void 0,o.addTimelineEvent({layerId:x,event:{time:n(),logType:"error",title:"ðŸ’¥ "+l,subtitle:"end",data:{store:V(s.$id),action:V(l),args:u,error:p},groupId:h}})})},!0),s._customProperties.forEach(r=>{t.watch(()=>t.unref(s[r]),(c,l)=>{o.notifyComponentUpdate(),o.sendInspectorState(E),j&&o.addTimelineEvent({layerId:x,event:{time:n(),title:"Change",subtitle:r,data:{newValue:c,oldValue:l},groupId:P}})},{deep:!0})}),s.$subscribe(({events:r,type:c},l)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(E),!j)return;const u={time:n(),title:dt(c),data:ft({store:V(s.$id)},ut(r)),groupId:P};c===q.patchFunction?u.subtitle="â¤µï¸":c===q.patchObject?u.subtitle="ðŸ§©":r&&!Array.isArray(r)&&(u.subtitle=r.type),r&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),o.addTimelineEvent({layerId:x,event:u})},{detached:!0,flush:"sync"});const i=s._hotUpdate;s._hotUpdate=t.markRaw(r=>{i(r),o.addTimelineEvent({layerId:x,event:{time:n(),title:"ðŸ”¥ "+s.$id,subtitle:"HMR update",data:{store:V(s.$id),info:V("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(E),o.sendInspectorState(E)});const{$dispose:a}=s;s.$dispose=()=>{a(),o.notifyComponentUpdate(),o.sendInspectorTree(E),o.sendInspectorState(E),o.getSettings().logStoreChanges&&k(`Disposed "${s.$id}" store ðŸ—‘`)},o.notifyComponentUpdate(),o.sendInspectorTree(E),o.sendInspectorState(E),o.getSettings().logStoreChanges&&k(`"${s.$id}" store installed ðŸ†•`)})}let Ve=0,P;function Qe(e,s,o){const n=s.reduce((i,a)=>(i[a]=t.toRaw(e)[a],i),{});for(const i in n)e[i]=function(){const a=Ve,r=o?new Proxy(e,{get(...l){return P=a,Reflect.get(...l)},set(...l){return P=a,Reflect.set(...l)}}):e;P=a;const c=n[i].apply(r,arguments);return P=void 0,c}}function ht({app:e,store:s,options:o}){if(s.$id.startsWith("__hot:"))return;s._isOptionsAPI=!!o.state,Qe(s,Object.keys(o.actions),s._isOptionsAPI);const n=s._hotUpdate;t.toRaw(s)._hotUpdate=function(i){n.apply(this,arguments),Qe(s,Object.keys(i._hmrPayload.actions),!!s._isOptionsAPI)},pt(e,s)}function gt(){const e=t.effectScope(!0),s=e.run(()=>t.ref({}));let o=[],n=[];const i=t.markRaw({install(a){U(i),i._a=a,a.provide(Se,i),a.config.globalProperties.$pinia=i,v&&mt(a,i),n.forEach(r=>o.push(r)),n=[]},use(a){return!this._a&&!_e?n.push(a):o.push(a),this},_p:o,_a:null,_e:e,_s:new Map,state:s});return v&&typeof Proxy<"u"&&i.use(ht),i}function qe(e,s){for(const o in s){const n=s[o];if(!(o in e))continue;const i=e[o];M(i)&&M(n)&&!t.isRef(n)&&!t.isReactive(n)?e[o]=qe(i,n):e[o]=n}return e}const Be=()=>{};function Ie(e,s,o,n=Be){e.push(s);const i=()=>{const a=e.indexOf(s);a>-1&&(e.splice(a,1),n())};return!o&&t.getCurrentScope()&&t.onScopeDispose(i),i}function z(e,...s){e.slice().forEach(o=>{o(...s)})}const _t=e=>e();function ue(e,s){e instanceof Map&&s instanceof Map&&s.forEach((o,n)=>e.set(n,o)),e instanceof Set&&s instanceof Set&&s.forEach(e.add,e);for(const o in s){if(!s.hasOwnProperty(o))continue;const n=s[o],i=e[o];M(i)&&M(n)&&e.hasOwnProperty(o)&&!t.isRef(n)&&!t.isReactive(n)?e[o]=ue(i,n):e[o]=n}return e}const bt=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function yt(e){return!M(e)||!e.hasOwnProperty(bt)}const{assign:T}=Object;function Le(e){return!!(t.isRef(e)&&e.effect)}function Pe(e,s,o,n){const{state:i,actions:a,getters:r}=s,c=o.state.value[e];let l;function u(){!c&&(process.env.NODE_ENV==="production"||!n)&&(o.state.value[e]=i?i():{});const h=process.env.NODE_ENV!=="production"&&n?t.toRefs(t.ref(i?i():{}).value):t.toRefs(o.state.value[e]);return T(h,a,Object.keys(r||{}).reduce((p,g)=>(process.env.NODE_ENV!=="production"&&g in h&&console.warn(`[ðŸ]: A getter cannot have the same name as another state property. Rename one of them. Found with "${g}" in store "${e}".`),p[g]=t.markRaw(t.computed(()=>{U(o);const b=o._s.get(e);return r[g].call(b,b)})),p),{}))}return l=de(e,u,s,o,n,!0),l}function de(e,s,o={},n,i,a){let r;const c=T({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!_e&&(l.onTrigger=m=>{u?b=m:u==!1&&!f._hotUpdating&&(Array.isArray(b)?b.push(m):console.error("ðŸ debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,h,p=[],g=[],b;const Q=n.state.value[e];!a&&!Q&&(process.env.NODE_ENV==="production"||!i)&&(n.state.value[e]={});const R=t.ref({});let oe;function G(m){let d;u=h=!1,process.env.NODE_ENV!=="production"&&(b=[]),typeof m=="function"?(m(n.state.value[e]),d={type:q.patchFunction,storeId:e,events:b}):(ue(n.state.value[e],m),d={type:q.patchObject,payload:m,storeId:e,events:b});const y=oe=Symbol();t.nextTick().then(()=>{oe===y&&(u=!0)}),h=!0,z(p,d,n.state.value[e])}const he=a?function(){const{state:d}=o,y=d?d():{};this.$patch(N=>{T(N,y)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`ðŸ: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:Be;function ge(){r.stop(),p=[],g=[],n._s.delete(e)}function se(m,d){return function(){U(n);const y=Array.from(arguments),N=[],J=[];function In(O){N.push(O)}function Ln(O){J.push(O)}z(g,{args:y,name:m,store:f,after:In,onError:Ln});let W;try{W=d.apply(this&&this.$id===e?this:f,y)}catch(O){throw z(J,O),O}return W instanceof Promise?W.then(O=>(z(N,O),O)).catch(O=>(z(J,O),Promise.reject(O))):(z(N,W),W)}}const _=t.markRaw({actions:{},getters:{},state:[],hotState:R}),S={_p:n,$id:e,$onAction:Ie.bind(null,g),$patch:G,$reset:he,$subscribe(m,d={}){const y=Ie(p,m,d.detached,()=>N()),N=r.run(()=>t.watch(()=>n.state.value[e],J=>{(d.flush==="sync"?h:u)&&m({storeId:e,type:q.direct,events:b},J)},T({},l,d)));return y},$dispose:ge},f=t.reactive(process.env.NODE_ENV!=="production"||v?T({_hmrPayload:_,_customProperties:t.markRaw(new Set)},S):S);n._s.set(e,f);const $=(n._a&&n._a.runWithContext||_t)(()=>n._e.run(()=>(r=t.effectScope()).run(s)));for(const m in $){const d=$[m];if(t.isRef(d)&&!Le(d)||t.isReactive(d))process.env.NODE_ENV!=="production"&&i?Y(R.value,m,t.toRef($,m)):a||(Q&&yt(d)&&(t.isRef(d)?d.value=Q[m]:ue(d,Q[m])),n.state.value[e][m]=d),process.env.NODE_ENV!=="production"&&_.state.push(m);else if(typeof d=="function"){const y=process.env.NODE_ENV!=="production"&&i?d:se(m,d);$[m]=y,process.env.NODE_ENV!=="production"&&(_.actions[m]=d),c.actions[m]=d}else process.env.NODE_ENV!=="production"&&Le(d)&&(_.getters[m]=a?o.getters[m]:d,K&&($._getters||($._getters=t.markRaw([]))).push(m))}if(T(f,$),T(t.toRaw(f),$),Object.defineProperty(f,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?R.value:n.state.value[e],set:m=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");G(d=>{T(d,m)})}}),process.env.NODE_ENV!=="production"&&(f._hotUpdate=t.markRaw(m=>{f._hotUpdating=!0,m._hmrPayload.state.forEach(d=>{if(d in f.$state){const y=m.$state[d],N=f.$state[d];typeof y=="object"&&M(y)&&M(N)?qe(y,N):m.$state[d]=N}Y(f,d,t.toRef(m.$state,d))}),Object.keys(f.$state).forEach(d=>{d in m.$state||ie(f,d)}),u=!1,h=!1,n.state.value[e]=t.toRef(m._hmrPayload,"hotState"),h=!0,t.nextTick().then(()=>{u=!0});for(const d in m._hmrPayload.actions){const y=m[d];Y(f,d,se(d,y))}for(const d in m._hmrPayload.getters){const y=m._hmrPayload.getters[d],N=a?t.computed(()=>(U(n),y.call(f,f))):y;Y(f,d,N)}Object.keys(f._hmrPayload.getters).forEach(d=>{d in m._hmrPayload.getters||ie(f,d)}),Object.keys(f._hmrPayload.actions).forEach(d=>{d in m._hmrPayload.actions||ie(f,d)}),f._hmrPayload=m._hmrPayload,f._getters=m._getters,f._hotUpdating=!1})),v){const m={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(d=>{Object.defineProperty(f,d,T({value:f[d]},m))})}return n._p.forEach(m=>{if(v){const d=r.run(()=>m({store:f,app:n._a,pinia:n,options:c}));Object.keys(d||{}).forEach(y=>f._customProperties.add(y)),T(f,d)}else T(f,r.run(()=>m({store:f,app:n._a,pinia:n,options:c})))}),process.env.NODE_ENV!=="production"&&f.$state&&typeof f.$state=="object"&&typeof f.$state.constructor=="function"&&!f.$state.constructor.toString().includes("[native code]")&&console.warn(`[ðŸ]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${f.$id}".`),Q&&a&&o.hydrate&&o.hydrate(f.$state,Q),u=!0,h=!0,f}function St(e,s,o){let n,i;const a=typeof s=="function";if(typeof e=="string")n=e,i=a?o:s;else if(i=e,n=e.id,process.env.NODE_ENV!=="production"&&typeof n!="string")throw new Error('[ðŸ]: "defineStore()" must be passed a store id as its first argument.');function r(c,l){const u=t.hasInjectionContext();if(c=(process.env.NODE_ENV==="test"&&F&&F._testing?null:c)||(u?t.inject(Se,null):null),c&&U(c),process.env.NODE_ENV!=="production"&&!F)throw new Error(`[ðŸ]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);c=F,c._s.has(n)||(a?de(n,s,i,c):Pe(n,i,c),process.env.NODE_ENV!=="production"&&(r._pinia=c));const h=c._s.get(n);if(process.env.NODE_ENV!=="production"&&l){const p="__hot:"+n,g=a?de(p,s,i,c,!0):Pe(p,T({},i),c,!0);l._hotUpdate(g),delete c.state.value[p],c._s.delete(p)}if(process.env.NODE_ENV!=="production"&&K){const p=t.getCurrentInstance();if(p&&p.proxy&&!l){const g=p.proxy,b="_pStores"in g?g._pStores:g._pStores={};b[n]=h}}return h}return r.$id=n,r}const kt=["id","checked"],Et=["for","innerHTML"],Nt=t.defineComponent({__name:"MCQOption",props:{optionKey:{},checked:{type:Boolean},option:{},submitted:{type:Boolean}},emits:["selectOption"],setup(e,{emit:s}){const o=s,n=()=>o("selectOption");return(i,a)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[(t.openBlock(),t.createElementBlock("input",{id:"option-"+i.optionKey,key:i.optionKey,"test-id":"radio_options",type:"radio",name:"options",checked:i.checked,class:t.normalizeClass(i.submitted&&"ignore-hover")},null,10,kt)),(t.openBlock(),t.createElementBlock("label",{key:i.optionKey,for:"option-"+i.optionKey,class:t.normalizeClass(i.submitted?"mcq-option-label ignore-hover":"mcq-option-label"),onClick:a[0]||(a[0]=r=>n()),innerHTML:i.option.optionValue},null,10,Et))],64))}}),w=(e,s)=>{const o=e.__vccOpts||e;for(const[n,i]of s)o[n]=i;return o},Tt=w(Nt,[["__scopeId","data-v-fdbfedc6"]]),wt=["disabled"],Ct=w(t.defineComponent({__name:"MCQButton",props:{submitted:{type:Boolean},selectedOption:{},hideSkip:{type:Boolean}},emits:["submitAnswer","nextQuestion","skipQuestion"],setup(e,{emit:s}){const o=t.ref("skip"),n=t.ref("Skip"),i=s,a=(l,u)=>{!l&&u?r("next","Next","submitAnswer"):l&&u?r("skip","Skip","nextQuestion"):!l&&!u&&r("skip","Skip","skipQuestion")},r=(l,u,h)=>{o.value=l,n.value=u,i(h)},c=(l,u)=>l&&u?{class:"next",text:"Next"}:!l&&u?{class:"submit",text:"Submit"}:{class:o.value,text:n.value};return(l,u)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("button",{disabled:l.hideSkip&&c(l.submitted,l.selectedOption).class==="skip",class:t.normalizeClass(["mcq-button",c(l.submitted,l.selectedOption).class]),onClick:u[0]||(u[0]=h=>a(l.submitted,l.selectedOption))},t.toDisplayString(c(l.submitted,l.selectedOption).text),11,wt)]))}}),[["__scopeId","data-v-847b8dd5"]]),Me=w(t.defineComponent({__name:"NextButton",props:{buttonName:{}},emits:["nextQuestion","prevQuestion"],setup(e,{emit:s}){const{buttonName:o}=e,n=s,i=()=>{a(o!=="â†"?"nextQuestion":"prevQuestion")},a=r=>{n(r)};return(r,c)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("button",{class:t.normalizeClass(r.buttonName==="Submit"?"submit_btn":"mcq-button"),onClick:c[0]||(c[0]=l=>i())},t.toDisplayString(r.buttonName),3)]))}}),[["__scopeId","data-v-8be7f61e"]]),$t=e=>{for(let s=e.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[e[s],e[o]]=[e[o],e[s]]}return e},Ot=(e,s)=>$t(s).slice(0,e);function xe(e){const s=e.reduce((n,i)=>(Object.keys(i).forEach(a=>{typeof a=="string"&&a.trim()!==""&&(n[a]||(n[a]=new Set),n[a].add(i[a]))}),n),{});return Object.keys(s).reduce((n,i)=>(n[i]=[...s[i]],n),{})}function fe(e,s){return e.filter(o=>Object.keys(s).every(n=>!s[n].length||s[n].includes(o.tags[n])))}function Vt(e,s,o){const n=e[s].question.optionsList;for(let i=0;i<n.length;i++)if(n[i].optionValue===o)return i}const Ae=(e,s)=>s.findIndex(o=>{var n;return((n=o.question._id)==null?void 0:n.$oid)===e}),B=St("questionsQueue",{state:()=>({allQs:[],questionsQueue:[],questionsStack:[],quizStats:[],quizMode:"Tutor",selectedTags:{course:[]},timeLimit:60}),actions:{getquestionnumber(){const e=this.allQs;return fe(e,this.selectedTags).length},setselectedTags(e){this.selectedTags=e},getselectedtags(){return this.selectedTags},modifySelectedTags(e,{category:s,topic:o}){this.selectedTags[s]&&(this.selectedTags[s]=e?[...this.selectedTags[s],o]:this.selectedTags[s].filter(n=>n!==o))},initialiseQuiz(e,s){this.questionsQueue=e,this.questionsStack=[],this.quizMode=s,this.quizStats=e.map(o=>({question:o,correct:0,skipped:0,attempts:0,selectedValue:""}))},incrementStat(e,s,o){const n=Ae(e,this.quizStats);if(this.quizStats[n]){if(o!==void 0){if(this.quizStats[n][s]++,o==="-1"){this.quizStats[n].selectedValue="Reached Time Limit";return}const i=this.quizStats[n].question.optionsList.map(a=>a.optionCorrect).indexOf(!0);Number(o)===Number(i)?this.quizStats[n].correct=1:this.quizStats[n].correct=0}this.quizStats[n].selectedValue=o!==void 0?this.quizStats[n].question.optionsList[Number(o)].optionValue:""}},pushToHistoryStack(e){this.questionsStack.push(e)},enqueueQuestion(e){this.questionsQueue.push(e)},dequeueQuestion(){for(;this.questionsQueue.length>0;){const e=this.questionsQueue.shift();return this.pushToHistoryStack(e),e}return this.questionsQueue.shift()},removeFromLastHistory(){if(!(this.questionsStack.length<1))return this.questionsQueue.unshift(this.questionsStack.pop()),this.questionsStack[this.questionsStack.length-1]},getTimeLimit(){return this.timeLimit},setTimeLimit(e){this.timeLimit=e},getRemainingQuestions(){return this.questionsQueue.length}}}),Qt=["innerHTML"],qt={class:"mcq-list"},Bt=["onClick"],It={class:"next-prev-question"},De=w(t.defineComponent({__name:"MCQQuestion",props:{_id:{},statement:{},optionsList:{}},emits:["nextQuestion","skipQuestion","prevQuestion"],setup(e,{emit:s}){const o=B(),{statement:n,optionsList:i,_id:a}=e,r=t.ref(null),c=t.ref(!1),l=s,u=t.ref(o.getRemainingQuestions()),h=()=>{c.value=!0},p=()=>{r.value=null,l("nextQuestion")},g=_=>{R(_),u.value=o.getRemainingQuestions(),l("nextQuestion")},b=()=>{R(a),l("skipQuestion")},Q=_=>o.incrementStat(_.$oid,"attempts",r.value??void 0),R=_=>{Q(_),c.value=!1,r.value=null},oe=()=>{r.value=null,l("prevQuestion")},G=(_,S)=>{c.value||(r.value=r.value===S?null:S),Q(_)},he=(_,S,f)=>o.quizMode==="Timed"?ge(_,S):se(S,f);function ge(_,S){const f=Ae(_.$oid,o.quizStats),A=o.quizStats[f].selectedValue,$=Vt(o.quizStats,f,A);return String($)===S?(r.value=S,"selected"):""}function se(_,S){const f=S[parseInt(_)],A=r.value===_;return c.value?f.optionCorrect?"correct ignore-hover":A?"wrong ignore-hover":"ignore-hover":A?"selected":""}return(_,S)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",{class:"mcq-statement",innerHTML:_.statement},null,8,Qt),t.createElementVNode("div",qt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.entries(_.optionsList),([f,A])=>(t.openBlock(),t.createElementBlock("div",{key:f,class:t.normalizeClass(["mcq-option",he(_._id,f,_.optionsList)]),onClick:$=>G(_._id,f)},[t.createVNode(Tt,{"option-key":f,checked:r.value===f,option:A,submitted:c.value,onSelectOption:$=>G(_._id,f)},null,8,["option-key","checked","option","submitted","onSelectOption"])],10,Bt))),128))]),t.unref(o).quizMode==="Tutor"?(t.openBlock(),t.createBlock(Ct,{key:0,submitted:c.value,"selected-option":r.value,"hide-skip":u.value<=1,onSubmitAnswer:h,onNextQuestion:S[0]||(S[0]=f=>g(_._id)),onSkipQuestion:b},null,8,["submitted","selected-option","hide-skip"])):t.createCommentVNode("",!0),t.createElementVNode("div",It,[t.unref(o).quizMode==="Timed"?(t.openBlock(),t.createBlock(Me,{key:0,"button-name":t.unref(o).questionsQueue.length>=1?"â†’":"Submit",onNextQuestion:S[1]||(S[1]=f=>p())},null,8,["button-name"])):t.createCommentVNode("",!0),t.unref(o).quizMode==="Timed"&&t.unref(o).questionsStack.length>1?(t.openBlock(),t.createBlock(Me,{key:1,"button-name":"â†",onPrevQuestion:S[2]||(S[2]=f=>oe())})):t.createCommentVNode("",!0)])],64))}}),[["__scopeId","data-v-fc502993"]]),Lt=e=>(t.pushScopeId("data-v-4ffecbcd"),e=e(),t.popScopeId(),e),Pt={class:"report-container"},Mt={class:"mcq-report"},xt={class:"table-container"},At=Lt(()=>t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"question"),t.createElementVNode("th",null,"correct option"),t.createElementVNode("th",null,"your answer")])],-1)),Dt={class:"question-row"},jt=["href","innerHTML"],zt={class:"answer-row"},Rt=["innerHTML"],Ft={class:"answer-row"},Ut=["innerHTML"],vt={class:"mcq-result"},Ht={class:"score"},je=w(t.defineComponent({__name:"MCQStatus",setup(e){const s=B(),o=s.quizStats,n=s.quizStats.length,i=o.filter(r=>r.correct===1).length,a=(i*100/n).toFixed(0);return(r,c)=>(t.openBlock(),t.createElementBlock("div",Pt,[t.createElementVNode("div",Mt,[t.createElementVNode("div",xt,[t.createElementVNode("table",null,[At,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.entries(t.unref(o)),([l,u])=>(t.openBlock(),t.createElementBlock("tr",{key:l,class:"quiz-statment"},[t.createElementVNode("td",Dt,[t.createElementVNode("a",{href:u.question.link,target:"_blank",innerHTML:u.question.statement},null,8,jt)]),t.createElementVNode("td",zt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.entries(u.question.optionsList),([h,p])=>(t.openBlock(),t.createElementBlock("span",{key:h},[p.optionCorrect?(t.openBlock(),t.createElementBlock("span",{key:0,innerHTML:p.optionValue},null,8,Rt)):t.createCommentVNode("",!0)]))),128))]),t.createElementVNode("td",Ft,[t.createElementVNode("span",{class:t.normalizeClass(u.correct===1?"correct-answer":"wrong-answer"),innerHTML:u.correct===1?"<span> âœ”</span> ":"<span> âœ˜</span> <span> Â  Â  </span>"+u.selectedValue},null,10,Ut)])]))),128))])])])]),t.createElementVNode("div",null,[t.createElementVNode("div",vt,[t.createElementVNode("span",Ht,"âŒ› Result: "+t.toDisplayString(t.unref(i))+" out of "+t.toDisplayString(t.unref(n))+" - ("+t.toDisplayString(t.unref(a))+" %)",1)])])]))}}),[["__scopeId","data-v-4ffecbcd"]]),Gt=w(t.defineComponent({__name:"MCQQuiz",setup(e){const s=t.ref(),o=B();t.onMounted(()=>{i()});const n=()=>{o.enqueueQuestion(s.value),i()},i=()=>{s.value=o.dequeueQuestion()},a=()=>window.location.reload();return(r,c)=>{const l=t.resolveComponent("MCQInfoPanel");return t.openBlock(),t.createElementBlock("main",null,[t.createVNode(l),s.value?(t.openBlock(),t.createBlock(De,{key:0,statement:s.value.statement,"options-list":s.value.optionsList,_id:s.value._id,onNextQuestion:i,onSkipQuestion:n},null,8,["statement","options-list","_id"])):t.createCommentVNode("",!0),s.value?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(je,{key:1})),s.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("button",{key:2,class:"btn-relocate",onClick:a}," End "))])}}}),[["__scopeId","data-v-937e1a1b"]]),Jt={key:0,class:"time-left-header"},Wt={class:"questions-left-header"},Yt=t.defineComponent({__name:"MCQInfoPanel",props:{timeLeft:{type:Number,default:0}},setup(e){const s=B(),o=n=>{const i=Math.floor(n/60),a=n%60;return`${i}:${a<10?"0":""}${a}`};return(n,i)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[e.timeLeft?(t.openBlock(),t.createElementBlock("h3",Jt," Time left: "+t.toDisplayString(o(e.timeLeft)),1)):t.createCommentVNode("",!0),t.createElementVNode("h3",Wt," Question "+t.toDisplayString(t.unref(s).questionsStack.length)+" out of "+t.toDisplayString(t.unref(s).questionsQueue.length+t.unref(s).questionsStack.length),1)],64))}}),ze=1e3,Kt="-1",Xt=w(t.defineComponent({__name:"MCQTimedQuiz",setup(e){const s=B(),o=t.ref();let n=null,i=null;const a=t.ref(s.timeLimit);t.onMounted(()=>{c()}),t.onBeforeMount(()=>{u(),h()});const r=()=>{o.value=s.removeFromLastHistory()??o.value},c=()=>o.value=s.dequeueQuestion(),l=()=>window.location.reload(),u=()=>{n&&clearTimeout(n),i&&clearInterval(i)},h=()=>{a.value=s.timeLimit;const g=()=>o.value?a.value?a.value--:p():u();i=window.setInterval(g,ze),n=window.setTimeout(()=>{},s.timeLimit*ze)},p=()=>{var b;u();const g=Q=>s.incrementStat(Q,"attempts",Kt);for(g(((b=o.value)==null?void 0:b._id.$oid)??"");o.value=s.dequeueQuestion();)g(o.value._id.$oid);return alert("Time's up! Quiz has ended."),c()};return(g,b)=>(t.openBlock(),t.createElementBlock("main",null,[t.createVNode(Yt,{"time-left":a.value},null,8,["time-left"]),o.value?(t.openBlock(),t.createBlock(De,{key:0,statement:o.value.statement,"options-list":o.value.optionsList,_id:o.value._id,onNextQuestion:c,onPrevQuestion:r},null,8,["statement","options-list","_id"])):t.createCommentVNode("",!0),o.value?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(je,{key:1})),o.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("button",{key:2,class:"btn-relocate",onClick:l}," End "))]))}}),[["__scopeId","data-v-cffdfe07"]]),Zt=["id","name","value","disabled"],en=["for"],tn={key:0,class:"question-number"},nn=w(t.defineComponent({__name:"FilterCheckbox",props:{category:{},topics:{}},setup(e){const{category:s,topics:o}=e,n=B(),i=l=>s==="course"?l.toUpperCase():l,a=t.computed(()=>Object.entries(o).map(([l,u])=>{const h=c(u,s);return{idx:l,topic:u,num:h}}).filter(({topic:l})=>l!==void 0)),r=l=>{if(!(l.target instanceof HTMLInputElement))return console.error("Trying to click on non-input element");const u=l.target.name,h=l.target.value;n.modifySelectedTags(l.target.checked,{category:u,topic:h})},c=(l,u)=>{var b;const h=n.getselectedtags();if(!h[u]||(b=h[u])!=null&&b.includes(l))return null;const p=JSON.parse(JSON.stringify(n.getselectedtags()));p[u].includes(l)||p[u].push(l);const g=n.allQs;return fe(g,p).length.toString()};return(l,u)=>(t.openBlock(),t.createElementBlock("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.value,({idx:h,num:p,topic:g})=>(t.openBlock(),t.createElementBlock("li",{key:h,class:t.normalizeClass(["filter-options",{"grey-out":p==="0"}])},[t.createElementVNode("input",{id:`${l.category}-${g}-checkbox`,type:"checkbox",name:l.category,value:g,disabled:p==="0",onChange:u[0]||(u[0]=b=>r(b))},null,40,Zt),t.createElementVNode("label",{for:`${l.category}-${g}-checkbox`},[t.createTextVNode(t.toDisplayString(i(g))+" ",1),p!==null&&p!=="0"?(t.openBlock(),t.createElementBlock("span",tn,t.toDisplayString(p),1)):t.createCommentVNode("",!0)],8,en)],2))),128))]))}}),[["__scopeId","data-v-e575c3ac"]]),on={class:"filter"},sn={class:"category-heading"},rn=w(t.defineComponent({__name:"MCQTagOptions",setup(e){const n=B().allQs.map(a=>a.tags),i=xe(n);return(a,r)=>(t.openBlock(),t.createElementBlock("div",on,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.entries(t.unref(i)),([c,l])=>(t.openBlock(),t.createElementBlock("div",{key:c,class:"category"},[t.createElementVNode("h2",sn,t.toDisplayString(c),1),t.createVNode(nn,{category:c,topics:l},null,8,["category","topics"])]))),128))]))}}),[["__scopeId","data-v-efaccb2c"]]),an={for:"optionName"},cn=["value"],ln=w(t.defineComponent({__name:"DropDownbox",props:{options:{},optionName:{},disabled:{type:Boolean}},setup(e){const s=B(),o=t.ref(0);function n(i){const a=i.target;a.value&&(o.value=parseFloat(a.value)*60,s.setTimeLimit(o.value))}return(i,a)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(i.disabled?"dropdown input-disabled":"dropdown")},[t.createElementVNode("label",an,t.toDisplayString(i.optionName)+": Â  ",1),t.createElementVNode("select",{id:"optionName",name:"optionName",onChange:n},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.options,r=>(t.openBlock(),t.createElementBlock("option",{key:r.value,value:r.value},t.toDisplayString(r.value)+" "+t.toDisplayString(r.unit),9,cn))),128))],32)],2))}}),[["__scopeId","data-v-5f3ae97a"]]),H=e=>(t.pushScopeId("data-v-c3d686ea"),e=e(),t.popScopeId(),e),un={class:"start-page-container"},dn=H(()=>t.createElementVNode("h1",null,"VetCloud Smart Quiz",-1)),fn={class:"quiz-config-container"},mn={class:"question-config-container"},pn={class:"tag-text"},hn={class:"question-number"},gn={class:"question-amount-container"},_n=H(()=>t.createElementVNode("label",{for:"question-amount"},"Select the amount of questions:",-1)),bn=["max"],yn={key:0,class:"show-max-msg"},Sn=H(()=>t.createElementVNode("label",{for:"mode-select"},"Select mode:",-1)),kn=[H(()=>t.createElementVNode("option",{value:"Tutor"},"Tutor",-1)),H(()=>t.createElementVNode("option",{value:"Timed"},"Timed",-1))],En=3e3,Nn=w(t.defineComponent({__name:"StartPage",emits:["start-quiz"],setup(e,{emit:s}){const o=t.ref(1),n=t.ref("Tutor"),i=t.ref(!1),a=t.ref(null),r=s,c=B();t.onMounted(()=>{t.watchEffect(()=>{const h=c.getquestionnumber();o.value=Math.min(10,h)})});const l=()=>{r("start-quiz",{questionAmount:o.value,mode:n.value})},u=()=>{a.value&&clearTimeout(a.value),o.value>c.getquestionnumber()&&(o.value=c.getquestionnumber(),i.value=!0,a.value=window.setTimeout(()=>{i.value=!1},En))};return(h,p)=>(t.openBlock(),t.createElementBlock("div",un,[dn,t.createVNode(rn),t.createElementVNode("div",fn,[t.createElementVNode("div",mn,[t.createElementVNode("p",pn,[t.createTextVNode(" Maximum possible questions: "),t.createElementVNode("span",hn,t.toDisplayString(t.unref(c).getquestionnumber()),1)]),t.createElementVNode("div",gn,[_n,t.withDirectives(t.createElementVNode("input",{id:"question-amount","onUpdate:modelValue":p[0]||(p[0]=g=>o.value=g),type:"number",placeholder:"Question amount",min:"1",max:t.unref(c).getquestionnumber(),onInput:u},null,40,bn),[[t.vModelText,o.value,void 0,{number:!0}]])]),i.value?(t.openBlock(),t.createElementBlock("p",yn," Cannot select more than "+t.toDisplayString(t.unref(c).getquestionnumber())+" questions. ",1)):t.createCommentVNode("",!0),t.createElementVNode("div",null,[Sn,t.withDirectives(t.createElementVNode("select",{id:"mode-select","onUpdate:modelValue":p[1]||(p[1]=g=>n.value=g)},kn,512),[[t.vModelSelect,n.value]])]),t.createVNode(ln,{options:[{value:1,label:"Time Option 2",unit:"Min."},{value:1.5,label:"Time Option 1",unit:"Min."}],"option-name":"Time per Question",class:t.normalizeClass(n.value==="Timed"?"":"input-disabled"),disabled:n.value!=="Timed"},null,8,["options","class","disabled"])])]),t.createElementVNode("button",{class:"start-button",onClick:l},"Start")]))}}),[["__scopeId","data-v-c3d686ea"]]),Tn=e=>e.trim().toLowerCase().replace("_"," "),wn=e=>e.reduce((s,o)=>{if(!o.includes(":"))return s;let[n,i]=o.split(":");return[n,i]=[n.trim().toLowerCase(),Tn(i)],s[n]=i,s},{}),Cn={convertQuestions:e=>e.map(s=>({_id:{$oid:s._id.$oid},statement:s.statement,tags:wn(s.tags),optionsList:s.optionsList,link:s.link}))},C={isString:r=>typeof r=="string",isObject:r=>typeof r=="object"&&r!==null,isBoolean:r=>typeof r=="boolean",isArray:(r,c)=>Array.isArray(r)&&r.every(c),isNumber:r=>typeof r=="number",isFunction:r=>typeof r=="function"};function me(e){const s=e.includes(":")&&e.split(":").length===2,o=!e.includes(":")&&!e.includes(" ");return s||o}function Re(e,s=!1){return C.isArray(e,C.isString)?s?e.every(me):e.some(me):!1}function $n(e){return C.isObject(e)&&C.isString(e.optionValue)&&(e.optionCorrect===void 0||C.isBoolean(e.optionCorrect))}function Fe(e){return C.isObject(e)&&C.isObject(e._id)&&C.isString(e._id.$oid)&&C.isString(e.statement)&&Re(e.tags)&&C.isArray(e.optionsList,$n)&&C.isString(e.link)}function On(e){return C.isArray(e,Fe)}const ne={isMCQuestion:Fe,isMCQuestionArray:On,validateTags:Re,isTag:me},Vn=e=>{try{if(!e)throw new Error("No question data found. Please Try again later.");return Cn.convertQuestions(Qn(e))}catch(s){return alert(s),[]}};function Qn(e){ne.isMCQuestionArray(e)?console.info("%cAll questions are valid","color: #00FF00",`
Total Questions Validated:`,e.length):console.warn("%cWARNING: Some questions contains invalid structure","color: #FF0000");const s={invalidTags:0,noTags:0,invalidQs:0,totalTags:0},o=e.reduce((n,i)=>{if(!ne.isMCQuestion(i))return{...n,invalidQs:n.invalidQs+1};let{tags:a}=i;if(!a||Array.isArray(a)&&!a.length)return{...n,noTags:n.noTags+1};const r=n.totalTags+a.length;if(!ne.validateTags(a,!0)){const c=a.filter(u=>ne.isTag(u)),l=n.invalidTags+a.length-c.length;return a=c,{...n,invalidTags:l,totalTags:r}}return{...n,totalTags:r}},s);return qn(o,e.length),e}function pe(e,s){e&&console.warn(s,"color: #FF0000")}function qn(e,s){const{invalidQs:o,invalidTags:n,noTags:i,totalTags:a}=e;pe(o,`Invalid Questions Received: %c${o} out of ${s}`),pe(n,`Filtering out invalid tags: %c${n} out of ${a}`),pe(i,`Questions with no tags: %c${i}`)}const Ue=w(t.defineComponent({__name:"CrucibleComponent",setup(e){const s=t.ref(0),o=B(),n=t.ref(!1),i=t.ref([]),a=t.inject("$dataLink");t.onBeforeMount(()=>{i.value=Vn(a.data.questions),console.info("All Questions:",i.value),o.allQs=i.value;const c=xe(i.value.map(l=>l.tags));o.setselectedTags(Object.keys(c).reduce((l,u)=>({...l,[u]:[]}),{}))});const r=({questionAmount:c,mode:l})=>{const u=o.getselectedtags();if(!i.value.length)return alert("Trouble fetching questions, please try again later");const h=fe(i.value,u),p=Ot(c,h);s.value=p.length,o.initialiseQuiz(p,l),l==="Timed"&&o.setTimeLimit(c*o.timeLimit),n.value=!0};return(c,l)=>n.value&&t.unref(o).quizMode==="Tutor"?(t.openBlock(),t.createBlock(Gt,{key:0})):n.value&&t.unref(o).quizMode==="Timed"?(t.openBlock(),t.createBlock(Xt,{key:1})):(t.openBlock(),t.createBlock(Nn,{key:2,onStartQuiz:r}))}}),[["__scopeId","data-v-7321a104"]]),ve={data:{questions:[{_id:{$oid:"6625c7c8c8259deb8c3af39e"},statement:"",tags:[""],optionsList:{optionValue:"",optionCorrect:!1},link:""}]}};function Bn(e,s={}){const o=gt();e.use(o),e.component("CrucibleComponent",Ue),e.provide("$dataLink",s.dataLink||ve)}I.CrucibleComponent=Ue,I.createViewerPlugin=Bn,I.defaultData=ve,Object.defineProperty(I,Symbol.toStringTag,{value:"Module"})});
