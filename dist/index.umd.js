(function(v,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(v=typeof globalThis<"u"?globalThis:v||self,o(v.CruciblePlugin={},v.Vue))})(this,function(v,o){"use strict";var Vn=Object.defineProperty;var xn=(v,o,j)=>o in v?Vn(v,o,{enumerable:!0,configurable:!0,writable:!0,value:j}):v[o]=j;var V=(v,o,j)=>xn(v,typeof o!="symbol"?o+"":o,j);var j=!1;function ot(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function ft(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function pe(){return Nt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Nt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const fe=typeof Proxy=="function",me="devtools-plugin:setup",he="plugin:settings:set";let W,mt;function ge(){var e;return W!==void 0||(typeof window<"u"&&window.performance?(W=!0,mt=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(W=!0,mt=globalThis.perf_hooks.performance):W=!1),W}function _e(){return ge()?mt.now():Date.now()}class be{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const a in t.settings){const c=t.settings[a];s[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(r,c)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}r=a},now(){return _e()}},n&&n.on(he,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:c,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Vt(e,t){const n=e,s=Nt(),i=pe(),r=fe&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(me,e,t);else{const a=r?new be(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
 * pinia v2.2.1
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Z;const tt=e=>Z=e,xt=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function z(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var L;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(L||(L={}));const F=typeof window<"u",Dt=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function ye(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function ht(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Mt(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function $t(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function it(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const rt=typeof navigator=="object"?navigator:{userAgent:""},Qt=/Macintosh/.test(rt.userAgent)&&/AppleWebKit/.test(rt.userAgent)&&!/Safari/.test(rt.userAgent),Mt=F?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Qt?we:"msSaveOrOpenBlob"in rt?Ae:Te:()=>{};function we(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?$t(s.href)?ht(e,t,n):(s.target="_blank",it(s)):it(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){it(s)},0))}function Ae(e,t="download",n){if(typeof e=="string")if($t(e))ht(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){it(s)})}else navigator.msSaveOrOpenBlob(ye(e,n),t)}function Te(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return ht(e,t,n);const i=e.type==="application/octet-stream",r=/constructor/i.test(String(Dt.HTMLElement))||"safari"in Dt,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&r||Qt)&&typeof FileReader<"u"){const c=new FileReader;c.onloadend=function(){let l=c.result;if(typeof l!="string")throw s=null,new Error("Wrong reader.result type");l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=l:location.assign(l),s=null},c.readAsDataURL(e)}else{const c=URL.createObjectURL(e);s?s.location.assign(c):location.href=c,s=null,setTimeout(function(){URL.revokeObjectURL(c)},4e4)}}function C(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function gt(e){return"_a"in e&&"install"in e}function Ot(){if(!("clipboard"in navigator))return C("Your browser doesn't support the Clipboard API","error"),!0}function qt(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(C('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Se(e){if(!Ot())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),C("Global state copied to clipboard.")}catch(t){if(qt(t))return;C("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function Ee(e){if(!Ot())try{Lt(e,JSON.parse(await navigator.clipboard.readText())),C("Global state pasted from clipboard.")}catch(t){if(qt(t))return;C("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function ke(e){try{Mt(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){C("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let I;function Ce(){I||(I=document.createElement("input"),I.type="file",I.accept=".json");function e(){return new Promise((t,n)=>{I.onchange=async()=>{const s=I.files;if(!s)return t(null);const i=s.item(0);return t(i?{text:await i.text(),file:i}:null)},I.oncancel=()=>t(null),I.onerror=n,I.click()})}return e}async function ve(e){try{const n=await Ce()();if(!n)return;const{text:s,file:i}=n;Lt(e,JSON.parse(s)),C(`Global state imported from "${i.name}".`)}catch(t){C("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function Lt(e,t){for(const n in t){const s=e.state.value[n];s?Object.assign(s,t[n]):e.state.value[n]=t[n]}}function M(e){return{_custom:{display:e}}}const Pt="🍍 Pinia (root)",at="_root";function Ne(e){return gt(e)?{id:at,label:Pt}:{id:e.$id,label:e.$id}}function Ve(e){if(gt(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(r=>({editable:!0,key:r,value:e.state.value[r]})),getters:n.filter(r=>s.get(r)._getters).map(r=>{const a=s.get(r);return{editable:!1,key:r,value:a._getters.reduce((c,l)=>(c[l]=a[l],c),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function xe(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:M(e.type),key:M(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function De(e){switch(e){case L.direct:return"mutation";case L.patchFunction:return"$patch";case L.patchObject:return"$patch";default:return"unknown"}}let J=!0;const ct=[],H="pinia:mutations",N="pinia",{assign:$e}=Object,lt=e=>"🍍 "+e;function Qe(e,t){Vt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ct,app:e},n=>{typeof n.now!="function"&&C("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:H,label:"Pinia 🍍",color:15064968}),n.addInspector({id:N,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Se(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Ee(t),n.sendInspectorTree(N),n.sendInspectorState(N)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{ke(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await ve(t),n.sendInspectorTree(N),n.sendInspectorState(N)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:s=>{const i=t._s.get(s);i?typeof i.$reset!="function"?C(`Cannot reset "${s}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),C(`Store "${s}" reset.`)):C(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((s,i)=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const a=s.componentInstance.proxy._pStores;Object.values(a).forEach(c=>{s.instanceData.state.push({type:lt(c.$id),key:"state",editable:!0,value:c._isOptionsAPI?{_custom:{value:o.toRaw(c.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>c.$reset()}]}}:Object.keys(c.$state).reduce((l,u)=>(l[u]=c.$state[u],l),{})}),c._getters&&c._getters.length&&s.instanceData.state.push({type:lt(c.$id),key:"getters",editable:!1,value:c._getters.reduce((l,u)=>{try{l[u]=c[u]}catch(f){l[u]=f}return l},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===N){let i=[t];i=i.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?i.filter(r=>"$id"in r?r.$id.toLowerCase().includes(s.filter.toLowerCase()):Pt.toLowerCase().includes(s.filter.toLowerCase())):i).map(Ne)}}),globalThis.$pinia=t,n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===N){const i=s.nodeId===at?t:t._s.get(s.nodeId);if(!i)return;i&&(s.nodeId!==at&&(globalThis.$store=o.toRaw(i)),s.state=Ve(i))}}),n.on.editInspectorState((s,i)=>{if(s.app===e&&s.inspectorId===N){const r=s.nodeId===at?t:t._s.get(s.nodeId);if(!r)return C(`store "${s.nodeId}" not found`,"error");const{path:a}=s;gt(r)?a.unshift("state"):(a.length!==1||!r._customProperties.has(a[0])||a[0]in r.$state)&&a.unshift("$state"),J=!1,s.set(r,a,s.state.value),J=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("🍍")){const i=s.type.replace(/^🍍\s*/,""),r=t._s.get(i);if(!r)return C(`store "${i}" not found`,"error");const{path:a}=s;if(a[0]!=="state")return C(`Invalid path for store "${i}":
${a}
Only state can be modified.`);a[0]="$state",J=!1,s.set(r,a,s.state.value),J=!0}})})}function Me(e,t){ct.includes(lt(t.$id))||ct.push(lt(t.$id)),Vt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ct,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:a,onError:c,name:l,args:u})=>{const f=It++;n.addTimelineEvent({layerId:H,event:{time:s(),title:"🛫 "+l,subtitle:"start",data:{store:M(t.$id),action:M(l),args:u},groupId:f}}),a(p=>{B=void 0,n.addTimelineEvent({layerId:H,event:{time:s(),title:"🛬 "+l,subtitle:"end",data:{store:M(t.$id),action:M(l),args:u,result:p},groupId:f}})}),c(p=>{B=void 0,n.addTimelineEvent({layerId:H,event:{time:s(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:M(t.$id),action:M(l),args:u,error:p},groupId:f}})})},!0),t._customProperties.forEach(a=>{o.watch(()=>o.unref(t[a]),(c,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(N),J&&n.addTimelineEvent({layerId:H,event:{time:s(),title:"Change",subtitle:a,data:{newValue:c,oldValue:l},groupId:B}})},{deep:!0})}),t.$subscribe(({events:a,type:c},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(N),!J)return;const u={time:s(),title:De(c),data:$e({store:M(t.$id)},xe(a)),groupId:B};c===L.patchFunction?u.subtitle="⤵️":c===L.patchObject?u.subtitle="🧩":a&&!Array.isArray(a)&&(u.subtitle=a.type),a&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:H,event:u})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=o.markRaw(a=>{i(a),n.addTimelineEvent({layerId:H,event:{time:s(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:M(t.$id),info:M("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N)});const{$dispose:r}=t;t.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.getSettings().logStoreChanges&&C(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.getSettings().logStoreChanges&&C(`"${t.$id}" store installed 🆕`)})}let It=0,B;function Bt(e,t,n){const s=t.reduce((i,r)=>(i[r]=o.toRaw(e)[r],i),{});for(const i in s)e[i]=function(){const r=It,a=n?new Proxy(e,{get(...l){return B=r,Reflect.get(...l)},set(...l){return B=r,Reflect.set(...l)}}):e;B=r;const c=s[i].apply(a,arguments);return B=void 0,c}}function Oe({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!n.state,!t._p._testing){Bt(t,Object.keys(n.actions),t._isOptionsAPI);const s=t._hotUpdate;o.toRaw(t)._hotUpdate=function(i){s.apply(this,arguments),Bt(t,Object.keys(i._hmrPayload.actions),!!t._isOptionsAPI)}}Me(e,t)}}function qe(){const e=o.effectScope(!0),t=e.run(()=>o.ref({}));let n=[],s=[];const i=o.markRaw({install(r){tt(i),i._a=r,r.provide(xt,i),r.config.globalProperties.$pinia=i,process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&F&&Qe(r,i),s.forEach(a=>n.push(a)),s=[]},use(r){return!this._a&&!j?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&typeof Proxy<"u"&&i.use(Oe),i}function Rt(e,t){for(const n in t){const s=t[n];if(!(n in e))continue;const i=e[n];z(i)&&z(s)&&!o.isRef(s)&&!o.isReactive(s)?e[n]=Rt(i,s):e[n]=s}return e}const jt=()=>{};function zt(e,t,n,s=jt){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&o.getCurrentScope()&&o.onScopeDispose(i),i}function Y(e,...t){e.slice().forEach(n=>{n(...t)})}const Le=e=>e(),Ft=Symbol(),_t=Symbol();function bt(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];z(i)&&z(s)&&e.hasOwnProperty(n)&&!o.isRef(s)&&!o.isReactive(s)?e[n]=bt(i,s):e[n]=s}return e}const Pe=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function Ie(e){return!z(e)||!e.hasOwnProperty(Pe)}const{assign:x}=Object;function Ht(e){return!!(o.isRef(e)&&e.effect)}function Ut(e,t,n,s){const{state:i,actions:r,getters:a}=t,c=n.state.value[e];let l;function u(){!c&&(process.env.NODE_ENV==="production"||!s)&&(n.state.value[e]=i?i():{});const f=process.env.NODE_ENV!=="production"&&s?o.toRefs(o.ref(i?i():{}).value):o.toRefs(n.state.value[e]);return x(f,r,Object.keys(a||{}).reduce((p,g)=>(process.env.NODE_ENV!=="production"&&g in f&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${g}" in store "${e}".`),p[g]=o.markRaw(o.computed(()=>{tt(n);const y=n._s.get(e);return a[g].call(y,y)})),p),{}))}return l=yt(e,u,t,n,s,!0),l}function yt(e,t,n={},s,i,r){let a;const c=x({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!s._e.active)throw new Error("Pinia destroyed");const l={deep:!0};process.env.NODE_ENV!=="production"&&!j&&(l.onTrigger=h=>{u?y=h:u==!1&&!_._hotUpdating&&(Array.isArray(y)?y.push(h):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,f,p=[],g=[],y;const S=s.state.value[e];!r&&!S&&(process.env.NODE_ENV==="production"||!i)&&(s.state.value[e]={});const K=o.ref({});let dt;function pt(h){let m;u=f=!1,process.env.NODE_ENV!=="production"&&(y=[]),typeof h=="function"?(h(s.state.value[e]),m={type:L.patchFunction,storeId:e,events:y}):(bt(s.state.value[e],h),m={type:L.patchObject,payload:h,storeId:e,events:y});const A=dt=Symbol();o.nextTick().then(()=>{dt===A&&(u=!0)}),f=!0,Y(p,m,s.state.value[e])}const E=r?function(){const{state:m}=n,A=m?m():{};this.$patch($=>{x($,A)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:jt;function k(){a.stop(),p=[],g=[],s._s.delete(e)}const T=(h,m="")=>{if(Ft in h)return h[_t]=m,h;const A=function(){tt(s);const $=Array.from(arguments),st=[],vt=[];function vn(Q){st.push(Q)}function Nn(Q){vt.push(Q)}Y(g,{args:$,name:A[_t],store:_,after:vn,onError:Nn});let nt;try{nt=h.apply(this&&this.$id===e?this:_,$)}catch(Q){throw Y(vt,Q),Q}return nt instanceof Promise?nt.then(Q=>(Y(st,Q),Q)).catch(Q=>(Y(vt,Q),Promise.reject(Q))):(Y(st,nt),nt)};return A[Ft]=!0,A[_t]=m,A},q=o.markRaw({actions:{},getters:{},state:[],hotState:K}),X={_p:s,$id:e,$onAction:zt.bind(null,g),$patch:pt,$reset:E,$subscribe(h,m={}){const A=zt(p,h,m.detached,()=>$()),$=a.run(()=>o.watch(()=>s.state.value[e],st=>{(m.flush==="sync"?f:u)&&h({storeId:e,type:L.direct,events:y},st)},x({},l,m)));return A},$dispose:k},_=o.reactive(process.env.NODE_ENV!=="production"||process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&F?x({_hmrPayload:q,_customProperties:o.markRaw(new Set)},X):X);s._s.set(e,_);const R=(s._a&&s._a.runWithContext||Le)(()=>s._e.run(()=>(a=o.effectScope()).run(()=>t({action:T}))));for(const h in R){const m=R[h];if(o.isRef(m)&&!Ht(m)||o.isReactive(m))process.env.NODE_ENV!=="production"&&i?ot(K.value,h,o.toRef(R,h)):r||(S&&Ie(m)&&(o.isRef(m)?m.value=S[h]:bt(m,S[h])),s.state.value[e][h]=m),process.env.NODE_ENV!=="production"&&q.state.push(h);else if(typeof m=="function"){const A=process.env.NODE_ENV!=="production"&&i?m:T(m,h);R[h]=A,process.env.NODE_ENV!=="production"&&(q.actions[h]=m),c.actions[h]=m}else process.env.NODE_ENV!=="production"&&Ht(m)&&(q.getters[h]=r?n.getters[h]:m,F&&(R._getters||(R._getters=o.markRaw([]))).push(h))}if(x(_,R),x(o.toRaw(_),R),Object.defineProperty(_,"$state",{get:()=>process.env.NODE_ENV!=="production"&&i?K.value:s.state.value[e],set:h=>{if(process.env.NODE_ENV!=="production"&&i)throw new Error("cannot set hotState");pt(m=>{x(m,h)})}}),process.env.NODE_ENV!=="production"&&(_._hotUpdate=o.markRaw(h=>{_._hotUpdating=!0,h._hmrPayload.state.forEach(m=>{if(m in _.$state){const A=h.$state[m],$=_.$state[m];typeof A=="object"&&z(A)&&z($)?Rt(A,$):h.$state[m]=$}ot(_,m,o.toRef(h.$state,m))}),Object.keys(_.$state).forEach(m=>{m in h.$state||ft(_,m)}),u=!1,f=!1,s.state.value[e]=o.toRef(h._hmrPayload,"hotState"),f=!0,o.nextTick().then(()=>{u=!0});for(const m in h._hmrPayload.actions){const A=h[m];ot(_,m,T(A,m))}for(const m in h._hmrPayload.getters){const A=h._hmrPayload.getters[m],$=r?o.computed(()=>(tt(s),A.call(_,_))):A;ot(_,m,$)}Object.keys(_._hmrPayload.getters).forEach(m=>{m in h._hmrPayload.getters||ft(_,m)}),Object.keys(_._hmrPayload.actions).forEach(m=>{m in h._hmrPayload.actions||ft(_,m)}),_._hmrPayload=h._hmrPayload,_._getters=h._getters,_._hotUpdating=!1})),process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&F){const h={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(m=>{Object.defineProperty(_,m,x({value:_[m]},h))})}return s._p.forEach(h=>{if(process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&F){const m=a.run(()=>h({store:_,app:s._a,pinia:s,options:c}));Object.keys(m||{}).forEach(A=>_._customProperties.add(A)),x(_,m)}else x(_,a.run(()=>h({store:_,app:s._a,pinia:s,options:c})))}),process.env.NODE_ENV!=="production"&&_.$state&&typeof _.$state=="object"&&typeof _.$state.constructor=="function"&&!_.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${_.$id}".`),S&&r&&n.hydrate&&n.hydrate(_.$state,S),u=!0,f=!0,_}function Be(e,t,n){let s,i;const r=typeof t=="function";s=e,i=r?n:t;function a(c,l){const u=o.hasInjectionContext();if(c=(process.env.NODE_ENV==="test"&&Z&&Z._testing?null:c)||(u?o.inject(xt,null):null),c&&tt(c),process.env.NODE_ENV!=="production"&&!Z)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);c=Z,c._s.has(s)||(r?yt(s,t,i,c):Ut(s,i,c),process.env.NODE_ENV!=="production"&&(a._pinia=c));const f=c._s.get(s);if(process.env.NODE_ENV!=="production"&&l){const p="__hot:"+s,g=r?yt(p,t,i,c,!0):Ut(p,x({},i),c,!0);l._hotUpdate(g),delete c.state.value[p],c._s.delete(p)}if(process.env.NODE_ENV!=="production"&&F){const p=o.getCurrentInstance();if(p&&p.proxy&&!l){const g=p.proxy,y="_pStores"in g?g._pStores:g._pStores={};y[s]=f}}return f}return a.$id=s,a}const Re=["id","checked"],je=["for","innerHTML"],ze=o.defineComponent({__name:"MCQOption",props:{optionKey:{},checked:{type:Boolean},option:{},submitted:{type:Boolean}},emits:["selectOption"],setup(e,{emit:t}){const n=t,s=()=>n("selectOption");return(i,r)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[(o.openBlock(),o.createElementBlock("input",{id:"option-"+i.optionKey,key:i.optionKey,"test-id":"radio_options",type:"radio",name:"options",checked:i.checked,class:o.normalizeClass(i.submitted&&"ignore-hover")},null,10,Re)),(o.openBlock(),o.createElementBlock("label",{key:i.optionKey,for:"option-"+i.optionKey,class:o.normalizeClass(i.submitted?"mcq-option-label ignore-hover":"mcq-option-label"),onClick:r[0]||(r[0]=a=>s()),innerHTML:i.option.optionValue},null,10,je))],64))}}),O=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},Fe=O(ze,[["__scopeId","data-v-fdbfedc6"]]),He=["disabled"],Ue=O(o.defineComponent({__name:"MCQButton",props:{submitted:{type:Boolean},selectedOption:{},hideSkip:{type:Boolean}},emits:["submitAnswer","nextQuestion","skipQuestion"],setup(e,{emit:t}){const n=o.ref("skip"),s=o.ref("Skip"),i=t,r=(l,u)=>{!l&&u?a("next","Next","submitAnswer"):l&&u?a("skip","Skip","nextQuestion"):!l&&!u&&a("skip","Skip","skipQuestion")},a=(l,u,f)=>{n.value=l,s.value=u,i(f)},c=(l,u)=>l&&u?{class:"next",text:"Next"}:!l&&u?{class:"submit",text:"Submit"}:{class:n.value,text:s.value};return(l,u)=>(o.openBlock(),o.createElementBlock("div",null,[o.createElementVNode("button",{disabled:l.hideSkip&&c(l.submitted,l.selectedOption).class==="skip",class:o.normalizeClass(["mcq-button",c(l.submitted,l.selectedOption).class]),onClick:u[0]||(u[0]=f=>r(l.submitted,l.selectedOption))},o.toDisplayString(c(l.submitted,l.selectedOption).text),11,He)]))}}),[["__scopeId","data-v-847b8dd5"]]),Gt=O(o.defineComponent({__name:"NextButton",props:{buttonName:{}},emits:["nextQuestion","prevQuestion"],setup(e,{emit:t}){const{buttonName:n}=e,s=t,i=()=>{r(n!=="←"?"nextQuestion":"prevQuestion")},r=a=>{s(a)};return(a,c)=>(o.openBlock(),o.createElementBlock("div",null,[o.createElementVNode("button",{class:o.normalizeClass(a.buttonName==="Submit"?"submit_btn":"mcq-button"),onClick:c[0]||(c[0]=l=>i())},o.toDisplayString(a.buttonName),3)]))}}),[["__scopeId","data-v-8be7f61e"]]);var w=(e=>(e[e.New=0]="New",e[e.Learning=1]="Learning",e[e.Review=2]="Review",e[e.Relearning=3]="Relearning",e))(w||{}),d=(e=>(e[e.Manual=0]="Manual",e[e.Again=1]="Again",e[e.Hard=2]="Hard",e[e.Good=3]="Good",e[e.Easy=4]="Easy",e))(d||{});class b{static card(t){return{...t,state:b.state(t.state),due:b.time(t.due),last_review:t.last_review?b.time(t.last_review):void 0}}static rating(t){if(typeof t=="string"){const n=t.charAt(0).toUpperCase(),s=t.slice(1).toLowerCase(),i=d[`${n}${s}`];if(i===void 0)throw new Error(`Invalid rating:[${t}]`);return i}else if(typeof t=="number")return t;throw new Error(`Invalid rating:[${t}]`)}static state(t){if(typeof t=="string"){const n=t.charAt(0).toUpperCase(),s=t.slice(1).toLowerCase(),i=w[`${n}${s}`];if(i===void 0)throw new Error(`Invalid state:[${t}]`);return i}else if(typeof t=="number")return t;throw new Error(`Invalid state:[${t}]`)}static time(t){if(typeof t=="object"&&t instanceof Date)return t;if(typeof t=="string"){const n=Date.parse(t);if(isNaN(n))throw new Error(`Invalid date:[${t}]`);return new Date(n)}else if(typeof t=="number")return new Date(t);throw new Error(`Invalid date:[${t}]`)}static review_log(t){return{...t,due:b.time(t.due),rating:b.rating(t.rating),state:b.state(t.state),review:b.time(t.review)}}}const Ge=.9,We=36500,Je=[.4072,1.1829,3.1262,15.4722,7.2102,.5316,1.0651,.0234,1.616,.1544,1.0824,1.9813,.0953,.2975,2.2042,.2407,2.9466,.5034,.6567],Ye=!1,Ke=!0,wt=e=>{let t=Je;return e!=null&&e.w&&(e.w.length===19?t=e==null?void 0:e.w:e.w.length===17&&(t=e==null?void 0:e.w.concat([0,0]),console.debug("[FSRS V5]auto fill w to 19 length"))),{request_retention:(e==null?void 0:e.request_retention)||Ge,maximum_interval:(e==null?void 0:e.maximum_interval)||We,w:t,enable_fuzz:(e==null?void 0:e.enable_fuzz)??Ye,enable_short_term:(e==null?void 0:e.enable_short_term)??Ke}};Date.prototype.scheduler=function(e,t){return Wt(this,e,t)},Date.prototype.diff=function(e,t){return Xe(this,e,t)},Date.prototype.format=function(){return Ze(this)},Date.prototype.dueFormat=function(e,t,n){return ts(this,e,t,n)};function Wt(e,t,n){return new Date(n?U(e).getTime()+t*24*60*60*1e3:U(e).getTime()+t*60*1e3)}function Xe(e,t,n){if(!e||!t)throw new Error("Invalid date");const s=U(e).getTime()-U(t).getTime();let i=0;switch(n){case"days":i=Math.floor(s/(24*60*60*1e3));break;case"minutes":i=Math.floor(s/(60*1e3));break}return i}function Ze(e){const t=U(e),n=t.getFullYear(),s=t.getMonth()+1,i=t.getDate(),r=t.getHours(),a=t.getMinutes(),c=t.getSeconds();return`${n}-${et(s)}-${et(i)} ${et(r)}:${et(a)}:${et(c)}`}function et(e){return e<10?`0${e}`:`${e}`}const At=[60,60,24,31,12],Tt=["second","min","hour","day","month","year"];function ts(e,t,n,s=Tt){e=U(e),t=U(t),s.length!==Tt.length&&(s=Tt);let i=e.getTime()-t.getTime(),r;for(i/=1e3,r=0;r<At.length&&!(i<At[r]);r++)i/=At[r];return`${Math.floor(i)}${n?s[r]:""}`}function U(e){return b.time(e)}d.Again,d.Hard,d.Good,d.Easy;const es=[{start:2.5,end:7,factor:.15},{start:7,end:20,factor:.1},{start:20,end:1/0,factor:.05}];function ss(e,t,n){let s=1;for(const a of es)s+=a.factor*Math.max(Math.min(e,a.end)-a.start,0);e=Math.min(e,n);let i=Math.max(2,Math.round(e-s));const r=Math.min(Math.round(e+s),n);return e>t&&(i=Math.max(i,t+1)),i=Math.min(i,r),{min_ivl:i,max_ivl:r}}class ns{constructor(t){V(this,"c");V(this,"s0");V(this,"s1");V(this,"s2");const n=os();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),t==null&&(t=+new Date),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=t|0),this.s2}set state(t){this.c=t.c,this.s0=t.s0,this.s1=t.s1,this.s2=t.s2}get state(){return{c:this.c,s0:this.s0,s1:this.s1,s2:this.s2}}}function os(){let e=4022871197;return function(t){t=String(t);for(let n=0;n<t.length;n++){e+=t.charCodeAt(n);let s=.02519603282416938*e;e=s>>>0,s-=e,s*=e,e=s>>>0,s-=e,e+=s*4294967296}return(e>>>0)*23283064365386963e-26}}function is(e){const t=new ns(e),n=()=>t.next();return n.int32=()=>t.next()*4294967296|0,n.double=()=>n()+(n()*2097152|0)*11102230246251565e-32,n.state=()=>t.state,n.importState=s=>(t.state=s,n),n}const Jt=-.5,Yt=19/81;class rs{constructor(t){V(this,"param");V(this,"intervalModifier");V(this,"_seed");this.param=new Proxy(wt(t),this.params_handler_proxy()),this.intervalModifier=this.calculate_interval_modifier(this.param.request_retention)}get interval_modifier(){return this.intervalModifier}set seed(t){this._seed=t}calculate_interval_modifier(t){if(t<=0||t>1)throw new Error("Requested retention rate should be in the range (0,1]");return+((Math.pow(t,1/Jt)-1)/Yt).toFixed(8)}get parameters(){return this.param}set parameters(t){this.update_parameters(t)}params_handler_proxy(){const t=this;return{set:function(n,s,i){return s==="request_retention"&&Number.isFinite(i)&&(t.intervalModifier=t.calculate_interval_modifier(Number(i))),Reflect.set(n,s,i),!0}}}update_parameters(t){const n=wt(t);for(const s in n)if(s in this.param){const i=s;this.param[i]=n[i]}}init_stability(t){return Math.max(this.param.w[t-1],.1)}init_difficulty(t){return this.constrain_difficulty(this.param.w[4]-Math.exp((t-1)*this.param.w[5])+1)}apply_fuzz(t,n,s){if(!s||t<2.5)return Math.round(t);const i=is(this.seed)(),{min_ivl:r,max_ivl:a}=ss(t,n,this.param.maximum_interval);return Math.floor(i*(a-r+1)+r)}next_interval(t,n,s=this.param.enable_fuzz){const i=Math.min(Math.max(1,Math.round(t*this.intervalModifier)),this.param.maximum_interval);return this.apply_fuzz(i,n,s)}next_difficulty(t,n){const s=t-this.param.w[6]*(n-3);return this.constrain_difficulty(this.mean_reversion(this.init_difficulty(d.Easy),s))}constrain_difficulty(t){return Math.min(Math.max(+t.toFixed(8),1),10)}mean_reversion(t,n){return+(this.param.w[7]*t+(1-this.param.w[7])*n).toFixed(8)}next_recall_stability(t,n,s,i){const r=d.Hard===i?this.param.w[15]:1,a=d.Easy===i?this.param.w[16]:1;return+(n*(1+Math.exp(this.param.w[8])*(11-t)*Math.pow(n,-this.param.w[9])*(Math.exp((1-s)*this.param.w[10])-1)*r*a)).toFixed(8)}next_forget_stability(t,n,s){return+(this.param.w[11]*Math.pow(t,-this.param.w[12])*(Math.pow(n+1,this.param.w[13])-1)*Math.exp((1-s)*this.param.w[14])).toFixed(8)}next_short_term_stability(t,n){return+(t*Math.exp(this.param.w[17]*(n-3+this.param.w[18]))).toFixed(8)}forgetting_curve(t,n){return+Math.pow(1+Yt*t/n,Jt).toFixed(8)}}class Kt{constructor(t,n,s){V(this,"last");V(this,"current");V(this,"review_time");V(this,"next",new Map);V(this,"algorithm");this.algorithm=s,this.last=b.card(t),this.current=b.card(t),this.review_time=b.time(n),this.init()}init(){const{state:t,last_review:n}=this.current;let s=0;t!==w.New&&n&&(s=this.review_time.diff(n,"days")),this.current.last_review=this.review_time,this.current.elapsed_days=s,this.current.reps+=1,this.initSeed()}preview(){return{[d.Again]:this.review(d.Again),[d.Hard]:this.review(d.Hard),[d.Good]:this.review(d.Good),[d.Easy]:this.review(d.Easy)}}review(t){const{state:n}=this.last;let s;switch(n){case w.New:s=this.newState(t);break;case w.Learning:case w.Relearning:s=this.learningState(t);break;case w.Review:s=this.reviewState(t);break}if(s)return s;throw new Error("Invalid grade")}initSeed(){const t=this.review_time.getTime(),n=this.current.reps,s=this.current.difficulty*this.current.stability;this.algorithm.seed=`${t}_${n}_${s}`}buildLog(t){const{last_review:n,due:s,elapsed_days:i}=this.last;return{rating:t,state:this.current.state,due:n||s,stability:this.current.stability,difficulty:this.current.difficulty,elapsed_days:this.current.elapsed_days,last_elapsed_days:i,scheduled_days:this.current.scheduled_days,review:this.review_time}}}class Xt extends Kt{newState(t){const n=this.next.get(t);if(n)return n;const s=b.card(this.current);switch(s.difficulty=this.algorithm.init_difficulty(t),s.stability=this.algorithm.init_stability(t),t){case d.Again:s.scheduled_days=0,s.due=this.review_time.scheduler(1),s.state=w.Learning;break;case d.Hard:s.scheduled_days=0,s.due=this.review_time.scheduler(5),s.state=w.Learning;break;case d.Good:s.scheduled_days=0,s.due=this.review_time.scheduler(10),s.state=w.Learning;break;case d.Easy:{const r=this.algorithm.next_interval(s.stability,this.current.elapsed_days,this.algorithm.parameters.enable_fuzz);s.scheduled_days=r,s.due=this.review_time.scheduler(r,!0),s.state=w.Review;break}default:throw new Error("Invalid grade")}const i={card:s,log:this.buildLog(t)};return this.next.set(t,i),i}learningState(t){const n=this.next.get(t);if(n)return n;const{state:s,difficulty:i,stability:r}=this.last,a=b.card(this.current),c=this.current.elapsed_days;switch(a.difficulty=this.algorithm.next_difficulty(i,t),a.stability=this.algorithm.next_short_term_stability(r,t),t){case d.Again:{a.scheduled_days=0,a.due=this.review_time.scheduler(5,!1),a.state=s;break}case d.Hard:{a.scheduled_days=0,a.due=this.review_time.scheduler(10),a.state=s;break}case d.Good:{const u=this.algorithm.next_interval(a.stability,c);a.scheduled_days=u,a.due=this.review_time.scheduler(u,!0),a.state=w.Review;break}case d.Easy:{const u=this.algorithm.next_short_term_stability(r,d.Good),f=this.algorithm.next_interval(u,c),p=Math.max(this.algorithm.next_interval(a.stability,c),f+1);a.scheduled_days=p,a.due=this.review_time.scheduler(p,!0),a.state=w.Review;break}default:throw new Error("Invalid grade")}const l={card:a,log:this.buildLog(t)};return this.next.set(t,l),l}reviewState(t){const n=this.next.get(t);if(n)return n;const s=this.current.elapsed_days,{difficulty:i,stability:r}=this.last,a=this.algorithm.forgetting_curve(s,r),c=b.card(this.current),l=b.card(this.current),u=b.card(this.current),f=b.card(this.current);this.next_ds(c,l,u,f,i,r,a),this.next_interval(c,l,u,f,s),this.next_state(c,l,u,f),c.lapses+=1;const p={card:c,log:this.buildLog(d.Again)},g={card:l,log:super.buildLog(d.Hard)},y={card:u,log:super.buildLog(d.Good)},S={card:f,log:super.buildLog(d.Easy)};return this.next.set(d.Again,p),this.next.set(d.Hard,g),this.next.set(d.Good,y),this.next.set(d.Easy,S),this.next.get(t)}next_ds(t,n,s,i,r,a,c){t.difficulty=this.algorithm.next_difficulty(r,d.Again),t.stability=this.algorithm.next_forget_stability(r,a,c),n.difficulty=this.algorithm.next_difficulty(r,d.Hard),n.stability=this.algorithm.next_recall_stability(r,a,c,d.Hard),s.difficulty=this.algorithm.next_difficulty(r,d.Good),s.stability=this.algorithm.next_recall_stability(r,a,c,d.Good),i.difficulty=this.algorithm.next_difficulty(r,d.Easy),i.stability=this.algorithm.next_recall_stability(r,a,c,d.Easy)}next_interval(t,n,s,i,r){let a,c;a=this.algorithm.next_interval(n.stability,r),c=this.algorithm.next_interval(s.stability,r),a=Math.min(a,c),c=Math.max(c,a+1);const l=Math.max(this.algorithm.next_interval(i.stability,r),c+1);t.scheduled_days=0,t.due=this.review_time.scheduler(5),n.scheduled_days=a,n.due=this.review_time.scheduler(a,!0),s.scheduled_days=c,s.due=this.review_time.scheduler(c,!0),i.scheduled_days=l,i.due=this.review_time.scheduler(l,!0)}next_state(t,n,s,i){t.state=w.Relearning,n.state=w.Review,s.state=w.Review,i.state=w.Review}}class Zt extends Kt{newState(t){const n=this.next.get(t);if(n)return n;this.current.scheduled_days=0,this.current.elapsed_days=0;const s=b.card(this.current),i=b.card(this.current),r=b.card(this.current),a=b.card(this.current);return this.init_ds(s,i,r,a),this.next_interval(s,i,r,a,0),this.next_state(s,i,r,a),this.update_next(s,i,r,a),this.next.get(t)}init_ds(t,n,s,i){t.difficulty=this.algorithm.init_difficulty(d.Again),t.stability=this.algorithm.init_stability(d.Again),n.difficulty=this.algorithm.init_difficulty(d.Hard),n.stability=this.algorithm.init_stability(d.Hard),s.difficulty=this.algorithm.init_difficulty(d.Good),s.stability=this.algorithm.init_stability(d.Good),i.difficulty=this.algorithm.init_difficulty(d.Easy),i.stability=this.algorithm.init_stability(d.Easy)}learningState(t){return this.reviewState(t)}reviewState(t){const n=this.next.get(t);if(n)return n;const s=this.current.elapsed_days,{difficulty:i,stability:r}=this.last,a=this.algorithm.forgetting_curve(s,r),c=b.card(this.current),l=b.card(this.current),u=b.card(this.current),f=b.card(this.current);return this.next_ds(c,l,u,f,i,r,a),this.next_interval(c,l,u,f,s),this.next_state(c,l,u,f),c.lapses+=1,this.update_next(c,l,u,f),this.next.get(t)}next_ds(t,n,s,i,r,a,c){t.difficulty=this.algorithm.next_difficulty(r,d.Again),t.stability=this.algorithm.next_forget_stability(r,a,c),n.difficulty=this.algorithm.next_difficulty(r,d.Hard),n.stability=this.algorithm.next_recall_stability(r,a,c,d.Hard),s.difficulty=this.algorithm.next_difficulty(r,d.Good),s.stability=this.algorithm.next_recall_stability(r,a,c,d.Good),i.difficulty=this.algorithm.next_difficulty(r,d.Easy),i.stability=this.algorithm.next_recall_stability(r,a,c,d.Easy)}next_interval(t,n,s,i,r){let a,c,l,u;a=this.algorithm.next_interval(t.stability,r),c=this.algorithm.next_interval(n.stability,r),l=this.algorithm.next_interval(s.stability,r),u=this.algorithm.next_interval(i.stability,r),a=Math.min(a,c),c=Math.max(c,a+1),l=Math.max(l,c+1),u=Math.max(u,l+1),t.scheduled_days=a,t.due=this.review_time.scheduler(a,!0),n.scheduled_days=c,n.due=this.review_time.scheduler(c,!0),s.scheduled_days=l,s.due=this.review_time.scheduler(l,!0),i.scheduled_days=u,i.due=this.review_time.scheduler(u,!0)}next_state(t,n,s,i){t.state=w.Review,n.state=w.Review,s.state=w.Review,i.state=w.Review}update_next(t,n,s,i){const r={card:t,log:this.buildLog(d.Again)},a={card:n,log:super.buildLog(d.Hard)},c={card:s,log:super.buildLog(d.Good)},l={card:i,log:super.buildLog(d.Easy)};this.next.set(d.Again,r),this.next.set(d.Hard,a),this.next.set(d.Good,c),this.next.set(d.Easy,l)}}class as extends rs{constructor(n){super(n);V(this,"Schduler");const{enable_short_term:s}=this.parameters;this.Schduler=s?Xt:Zt}params_handler_proxy(){const n=this;return{set:function(s,i,r){return i==="request_retention"&&Number.isFinite(r)?n.intervalModifier=n.calculate_interval_modifier(Number(r)):i==="enable_short_term"&&(n.Schduler=r===!0?Xt:Zt),Reflect.set(s,i,r),!0}}}repeat(n,s,i){const r=this.Schduler,a=new r(n,s,this).preview();return i&&typeof i=="function"?i(a):a}next(n,s,i,r){const a=this.Schduler,c=new a(n,s,this),l=b.rating(i);if(l===d.Manual)throw new Error("Cannot review a manual rating");const u=c.review(l);return r&&typeof r=="function"?r(u):u}get_retrievability(n,s,i=!0){const r=b.card(n);if(s=b.time(s),r.state!==w.Review)return;const a=Math.max(s.diff(r.last_review,"days"),0),c=this.forgetting_curve(a,+r.stability.toFixed(2));return i?`${(c*100).toFixed(2)}%`:c}rollback(n,s,i){const r=b.card(n),a=b.review_log(s);if(a.rating===d.Manual)throw new Error("Cannot rollback a manual rating");let c,l,u;switch(a.state){case w.New:c=a.due,l=void 0,u=0;break;case w.Learning:case w.Relearning:case w.Review:c=a.review,l=a.due,u=r.lapses-(a.rating===d.Again&&a.state===w.Review?1:0);break}const f={...r,due:c,stability:a.stability,difficulty:a.difficulty,elapsed_days:a.last_elapsed_days,scheduled_days:a.scheduled_days,reps:Math.max(0,r.reps-1),lapses:Math.max(0,u),state:a.state,last_review:l};return i&&typeof i=="function"?i(f):f}forget(n,s,i=!1,r){const a=b.card(n);s=b.time(s);const c=a.state===w.New?0:s.diff(a.last_review,"days"),l={rating:d.Manual,state:a.state,due:a.due,stability:a.stability,difficulty:a.difficulty,elapsed_days:0,last_elapsed_days:a.elapsed_days,scheduled_days:c,review:s},u={card:{...a,due:s,stability:0,difficulty:0,elapsed_days:0,scheduled_days:0,reps:i?0:a.reps,lapses:i?0:a.lapses,state:w.New,last_review:a.last_review},log:l};return r&&typeof r=="function"?r(u):u}reschedule(n,s={}){if(!Array.isArray(n))throw new Error("cards must be an array");const i=[];for(const r of n){if(b.state(r.state)!==w.Review||!r.last_review)continue;const a=Math.floor(r.scheduled_days),c=this.next_interval(+r.stability.toFixed(2),Math.round(r.elapsed_days),s.enable_fuzz??!0);if(c===a||c===0)continue;const l={...r};l.scheduled_days=c;const u=Wt(l.last_review,c,!0);s.dateHandler&&typeof s.dateHandler=="function"?l.due=s.dateHandler(u):l.due=u,i.push(l)}return i}}const cs=e=>new as(e||{}),ls=wt({enable_fuzz:!0}),us=cs(ls),ds=e=>({id:e._id.$oid,last_review:e.lastAttempted,due:new Date,stability:1,difficulty:2.5,elapsed_days:Math.floor((new Date().getTime()-new Date(e.lastAttempted).getTime())/(1e3*60*60*24)),scheduled_days:1,reps:0,lapses:0,state:e.correctAttempts===0?0:1});function ps(e){const t=new Date,n=ds(e),s=us.repeat(n,t),i=e.correctAttempts/(e.attempts+.1)>.5?d.Good:d.Again,{card:r}=s[i];return{...r,reviewDue:r.due}}const fs=e=>e.map(t=>{const n=ps(t);return{...t,reviewDue:n.reviewDue}}),ms=e=>fs(e).sort((t,n)=>t.reviewDue.getTime()-n.reviewDue.getTime()),te=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},hs=(e,t)=>te(t).slice(0,e),gs=(e,t)=>{const n=ms(t);return te(n.slice(0,e))};function ee(e){const t=e.reduce((s,i)=>(Object.keys(i).forEach(r=>{r.trim()!==""&&(s[r]||(s[r]=new Set),i[r].forEach(c=>s[r].add(c)))}),s),{});return Object.keys(t).reduce((s,i)=>(s[i]=[...t[i]],s),{})}function St(e,t){return e.filter(n=>Object.keys(t).every(s=>{if(!t[s].length)return!0;const i=n.tags[s];if(i)return i.some(r=>t[s].includes(r))}))}function _s(e,t,n){return e.filter(s=>{const i=s.tags[n];return i&&i.includes(t)})}function bs(e,t,n){const s=e[t].question.optionsList;for(let i=0;i<s.length;i++)if(s[i].optionValue===n)return i}const se=(e,t)=>t.findIndex(n=>{var s;return((s=n.question._id)==null?void 0:s.$oid)===e}),P=Be("questionsQueue",{state:()=>({allQs:[],questionsQueue:[],questionsStack:[],quizStats:[],quizMode:"Tutor",selectedTags:{course:[]},timeLimit:60,AnsweredQuesiton:0,tagSets:[]}),actions:{setTagSet(){this.tagSets=this.allQs.map(e=>e.tags)},getTagSet(){return this.tagSets},getAnsweredQuestionsNum(){return this.AnsweredQuesiton},setAnsweredQuestionsNum(){this.AnsweredQuesiton=Math.min(this.AnsweredQuesiton+1,this.quizStats.length)},getquestionnumber(){const e=this.allQs;return St(e,this.selectedTags).length},setselectedTags(e){this.selectedTags=e},getselectedtags(){return this.selectedTags},modifySelectedTags(e,{category:t,topic:n}){this.selectedTags[t]&&(this.selectedTags[t]=e?[...this.selectedTags[t],n]:this.selectedTags[t].filter(s=>s!==n))},initialiseQuiz(e,t){this.questionsQueue=e,this.questionsStack=[],this.quizMode=t,this.quizStats=e.map(n=>({question:n,correct:0,skipped:0,attempts:0,selectedValue:""}))},incrementStat(e,t,n){const s=se(e,this.quizStats);if(this.quizStats[s]){if(n!==void 0){if(this.quizStats[s][t]++,n==="-1"){this.quizStats[s].selectedValue="Reached Time Limit";return}const i=this.quizStats[s].question.optionsList.map(r=>r.optionCorrect).indexOf(!0);Number(n)===Number(i)?this.quizStats[s].correct=1:this.quizStats[s].correct=0}this.quizStats[s].selectedValue=n!==void 0?this.quizStats[s].question.optionsList[Number(n)].optionValue:""}},pushToHistoryStack(e){this.questionsStack.push(e)},enqueueQuestion(e){this.questionsQueue.push(e)},dequeueQuestion(){for(;this.questionsQueue.length>0;){const e=this.questionsQueue.shift();return this.pushToHistoryStack(e),e}return this.questionsQueue.shift()},removeFromLastHistory(){if(!(this.questionsStack.length<1))return this.questionsQueue.unshift(this.questionsStack.pop()),this.questionsStack[this.questionsStack.length-1]},getTimeLimit(){return this.timeLimit},setTimeLimit(e){this.timeLimit=e},getRemainingQuestions(){return this.questionsQueue.length}}}),ys=["innerHTML"],ws={class:"mcq-list"},As=["onClick"],Ts={class:"next-prev-question"},ne=O(o.defineComponent({__name:"MCQQuestion",props:{_id:{},statement:{},optionsList:{}},emits:["nextQuestion","skipQuestion","prevQuestion"],setup(e,{emit:t}){const n=P(),s=o.ref(null),i=o.ref(!1),r=t,a=o.ref(n.getRemainingQuestions()),c=()=>{i.value=!0},l=()=>{s.value=null,r("nextQuestion")},u=()=>{g(),a.value=n.getRemainingQuestions(),r("nextQuestion")},f=()=>{g(),r("skipQuestion")},p=E=>n.incrementStat(E.$oid,"attempts",s.value??void 0),g=()=>{i.value=!1,s.value=null},y=()=>{s.value=null,r("prevQuestion")},S=(E,k)=>{i.value||(s.value=s.value===k?null:k),p(E)},K=(E,k,T)=>n.quizMode==="Timed"?dt(E,k):pt(k,T);function dt(E,k){const T=se(E.$oid,n.quizStats),q=n.quizStats[T].selectedValue,X=bs(n.quizStats,T,q);return String(X)===k?(s.value=k,"selected"):""}function pt(E,k){const T=k[parseInt(E)],q=s.value===E;return i.value?T.optionCorrect?"correct ignore-hover":q?"wrong ignore-hover":"ignore-hover":q?"selected":""}return(E,k)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[o.createElementVNode("div",{class:"mcq-statement",innerHTML:E.statement},null,8,ys),o.createElementVNode("div",ws,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(E.optionsList),([T,q])=>(o.openBlock(),o.createElementBlock("div",{key:T,class:o.normalizeClass(["mcq-option",K(E._id,T,E.optionsList)]),onClick:X=>S(E._id,T)},[o.createVNode(Fe,{"option-key":T,checked:s.value===T,option:q,submitted:i.value,onSelectOption:X=>S(E._id,T)},null,8,["option-key","checked","option","submitted","onSelectOption"])],10,As))),128))]),o.unref(n).quizMode==="Tutor"?(o.openBlock(),o.createBlock(Ue,{key:0,submitted:i.value,"selected-option":s.value,"hide-skip":a.value<=1,onSubmitAnswer:c,onNextQuestion:k[0]||(k[0]=T=>u()),onSkipQuestion:f},null,8,["submitted","selected-option","hide-skip"])):o.createCommentVNode("",!0),o.createElementVNode("div",Ts,[o.unref(n).quizMode==="Timed"?(o.openBlock(),o.createBlock(Gt,{key:0,"button-name":o.unref(n).questionsQueue.length>=1?"→":"Submit",onNextQuestion:k[1]||(k[1]=T=>l())},null,8,["button-name"])):o.createCommentVNode("",!0),o.unref(n).quizMode==="Timed"&&o.unref(n).questionsStack.length>1?(o.openBlock(),o.createBlock(Gt,{key:1,"button-name":"←",onPrevQuestion:k[2]||(k[2]=T=>y())})):o.createCommentVNode("",!0)])],64))}}),[["__scopeId","data-v-181a554c"]]),Ss=e=>(o.pushScopeId("data-v-38adb08e"),e=e(),o.popScopeId(),e),Es={class:"report-container"},ks={class:"mcq-report"},Cs={class:"table-container"},vs=Ss(()=>o.createElementVNode("thead",null,[o.createElementVNode("tr",null,[o.createElementVNode("th",null,"question"),o.createElementVNode("th",null,"correct option"),o.createElementVNode("th",null,"your answer")])],-1)),Ns={class:"question-row"},Vs=["href","innerHTML"],xs={class:"answer-row"},Ds=["innerHTML"],$s={class:"answer-row"},Qs=["innerHTML"],Ms={class:"mcq-result"},Os={class:"score"},oe=O(o.defineComponent({__name:"MCQStatus",setup(e){const t=o.inject("$updateQAttemptCallback")??Ct,n=P(),s=n.quizStats,i=n.quizStats.length,r=s.filter(l=>l.correct===1).length,a=(r*100/i).toFixed(0),c=()=>{try{const l=s.filter(u=>u.attempts).map(u=>t(u.question._id.$oid,!!u.correct));l.length&&Promise.allSettled(l)}catch(l){throw console.error("Error updating question attempts",l),l}};return o.onMounted(c),(l,u)=>(o.openBlock(),o.createElementBlock("div",Es,[o.createElementVNode("div",ks,[o.createElementVNode("div",Cs,[o.createElementVNode("table",null,[vs,o.createElementVNode("tbody",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(o.unref(s)),([f,p])=>(o.openBlock(),o.createElementBlock("tr",{key:f,class:"quiz-statment"},[o.createElementVNode("td",Ns,[o.createElementVNode("a",{href:p.question.link,target:"_blank",innerHTML:p.question.statement},null,8,Vs)]),o.createElementVNode("td",xs,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(p.question.optionsList),([g,y])=>(o.openBlock(),o.createElementBlock("span",{key:g},[y.optionCorrect?(o.openBlock(),o.createElementBlock("span",{key:0,innerHTML:y.optionValue},null,8,Ds)):o.createCommentVNode("",!0)]))),128))]),o.createElementVNode("td",$s,[o.createElementVNode("span",{class:o.normalizeClass(p.correct===1?"correct-answer":"wrong-answer"),innerHTML:p.correct===1?"<span> ✔</span> ":"<span> ✘</span> <span>     </span>"+p.selectedValue},null,10,Qs)])]))),128))])])])]),o.createElementVNode("div",null,[o.createElementVNode("div",Ms,[o.createElementVNode("span",Os,"⌛ Result: "+o.toDisplayString(o.unref(r))+" out of "+o.toDisplayString(o.unref(i))+" - ("+o.toDisplayString(o.unref(a))+" %)",1)])])]))}}),[["__scopeId","data-v-38adb08e"]]),qs={class:"questions-left-header"},Ls=O(o.defineComponent({__name:"MCQQuiz",setup(e){const t=o.ref(),n=P();o.onMounted(()=>{i()});const s=()=>{n.enqueueQuestion(t.value),t.value=n.dequeueQuestion()},i=()=>{n.setAnsweredQuestionsNum(),t.value=n.dequeueQuestion()},r=()=>window.location.reload();return(a,c)=>{const l=o.resolveComponent("MCQInfoPanel");return o.openBlock(),o.createElementBlock("main",null,[o.createVNode(l),o.createElementVNode("h3",qs," Question "+o.toDisplayString(o.unref(n).getAnsweredQuestionsNum())+" out of "+o.toDisplayString(o.unref(n).quizStats.length),1),t.value?(o.openBlock(),o.createBlock(ne,{key:0,statement:t.value.statement,"options-list":t.value.optionsList,_id:t.value._id,onNextQuestion:i,onSkipQuestion:s},null,8,["statement","options-list","_id"])):o.createCommentVNode("",!0),t.value?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(oe,{key:1})),t.value?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("button",{key:2,class:"btn-relocate",onClick:r}," End "))])}}}),[["__scopeId","data-v-edc7c7f1"]]),Ps={key:0,class:"time-left-header"},Is={class:"questions-left-header"},Bs=o.defineComponent({__name:"MCQInfoPanel",props:{timeLeft:{type:Number,default:0}},setup(e){const t=P(),n=s=>{const i=Math.floor(s/60),r=s%60;return`${i}:${r<10?"0":""}${r}`};return(s,i)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[e.timeLeft?(o.openBlock(),o.createElementBlock("h3",Ps," Time left: "+o.toDisplayString(n(e.timeLeft)),1)):o.createCommentVNode("",!0),o.createElementVNode("h3",Is," Question "+o.toDisplayString(o.unref(t).questionsStack.length)+" out of "+o.toDisplayString(o.unref(t).quizStats.length),1)],64))}}),ie=1e3,Rs="-1",js=O(o.defineComponent({__name:"MCQTimedQuiz",setup(e){const t=P(),n=o.ref();let s=null,i=null;const r=o.ref(t.timeLimit);o.onMounted(()=>{c()}),o.onBeforeMount(()=>{u(),f()});const a=()=>{n.value=t.removeFromLastHistory()??n.value},c=()=>n.value=t.dequeueQuestion(),l=()=>window.location.reload(),u=()=>{s&&clearTimeout(s),i&&clearInterval(i)},f=()=>{r.value=t.timeLimit;const g=()=>n.value?r.value?r.value--:p():u();i=window.setInterval(g,ie),s=window.setTimeout(()=>{},t.timeLimit*ie)},p=()=>{var y;u();const g=S=>t.incrementStat(S,"attempts",Rs);for(g(((y=n.value)==null?void 0:y._id.$oid)??"");n.value=t.dequeueQuestion();)g(n.value._id.$oid);return alert("Time's up! Quiz has ended."),c()};return(g,y)=>(o.openBlock(),o.createElementBlock("main",null,[o.createVNode(Bs,{"time-left":r.value},null,8,["time-left"]),n.value?(o.openBlock(),o.createBlock(ne,{key:0,statement:n.value.statement,"options-list":n.value.optionsList,_id:n.value._id,onNextQuestion:c,onPrevQuestion:a},null,8,["statement","options-list","_id"])):o.createCommentVNode("",!0),n.value?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(oe,{key:1})),n.value?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("button",{key:2,class:"btn-relocate",onClick:l}," End "))]))}}),[["__scopeId","data-v-4fd74e68"]]),zs=["id","name","value","disabled"],Fs=["for"],Hs={key:0,class:"question-number"},Us=O(o.defineComponent({__name:"FilterCheckbox",props:{category:{},topics:{}},setup(e){const{category:t,topics:n}=e,s=P(),i=l=>t==="course"?l.toUpperCase():l,r=o.computed(()=>Object.entries(n).map(([l,u])=>{const f=c(u,t),p=_s(s.allQs,u,t).length.toString();return{idx:l,topic:u,num:f,questionamount:p}}).filter(({topic:l})=>l!==void 0)),a=l=>{if(!(l.target instanceof HTMLInputElement))return console.error("Trying to click on non-input element");const u=l.target.name,f=l.target.value;s.modifySelectedTags(l.target.checked,{category:u,topic:f})},c=(l,u)=>{var y;const f=s.getselectedtags();if(!f[u]||(y=f[u])!=null&&y.includes(l))return null;const p=JSON.parse(JSON.stringify(s.getselectedtags()));p[u].includes(l)||p[u].push(l);const g=s.allQs;return St(g,p).length.toString()};return(l,u)=>(o.openBlock(),o.createElementBlock("ul",null,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(r.value,({idx:f,num:p,topic:g,questionamount:y})=>(o.openBlock(),o.createElementBlock("li",{key:f,class:o.normalizeClass(["filter-options",{"grey-out":p==="0"}])},[o.createElementVNode("input",{id:`${l.category}-${g}-checkbox`,type:"checkbox",name:l.category,value:g,disabled:p==="0",onChange:u[0]||(u[0]=S=>a(S))},null,40,zs),o.createElementVNode("label",{for:`${l.category}-${g}-checkbox`},[o.createTextVNode(o.toDisplayString(i(g))+" ",1),p!==null&&p!=="0"?(o.openBlock(),o.createElementBlock("span",Hs,o.toDisplayString(y),1)):o.createCommentVNode("",!0)],8,Fs)],2))),128))]))}}),[["__scopeId","data-v-43544b02"]]),Gs={key:0,class:"filter"},Ws={class:"category-heading"},Js=O(o.defineComponent({__name:"MCQTagOptions",setup(e){const t=o.ref([]),n=P();let s={};return o.watch(()=>n.allQs,(i,r)=>{n.setTagSet(),t.value=n.getTagSet(),s=ee(t.value)}),(i,r)=>o.unref(n).allQs?(o.openBlock(),o.createElementBlock("div",Gs,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(Object.entries(o.unref(s)),([a,c])=>(o.openBlock(),o.createElementBlock("div",{key:a,class:"category"},[o.createElementVNode("h2",Ws,o.toDisplayString(a),1),o.createVNode(Us,{category:a,topics:c},null,8,["category","topics"])]))),128))])):o.createCommentVNode("",!0)}}),[["__scopeId","data-v-0ae43360"]]),Ys={for:"optionName"},Ks=["value"],Xs=O(o.defineComponent({__name:"DropDownbox",props:{options:{},optionName:{},disabled:{type:Boolean}},setup(e){const t=P(),n=o.ref(0);function s(i){const r=i.target;r.value&&(n.value=parseFloat(r.value)*60,t.setTimeLimit(n.value))}return(i,r)=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(i.disabled?"dropdown input-disabled":"dropdown")},[o.createElementVNode("label",Ys,o.toDisplayString(i.optionName)+":   ",1),o.createElementVNode("select",{id:"optionName",name:"optionName",onChange:s},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.options,a=>(o.openBlock(),o.createElementBlock("option",{key:a.value,value:a.value},o.toDisplayString(a.value)+" "+o.toDisplayString(a.unit),9,Ks))),128))],32)],2))}}),[["__scopeId","data-v-5f3ae97a"]]),G=e=>(o.pushScopeId("data-v-203111b9"),e=e(),o.popScopeId(),e),Zs={class:"start-page-container"},tn=G(()=>o.createElementVNode("h1",null,"VetCloud Smart Quiz",-1)),en={class:"quiz-config-container"},sn={class:"question-config-container"},nn={class:"tag-text"},on={class:"question-number"},rn={class:"question-amount-container"},an=G(()=>o.createElementVNode("label",{for:"question-amount"},"Select the amount of questions:",-1)),cn=["max"],ln={key:0,class:"show-max-msg"},un=G(()=>o.createElementVNode("label",{for:"mode-select"},"Select mode:",-1)),dn=[G(()=>o.createElementVNode("option",{value:"Tutor"},"Tutor",-1)),G(()=>o.createElementVNode("option",{value:"Timed"},"Timed",-1))],pn={key:0,class:"srs-toggle-frame"},fn=G(()=>o.createElementVNode("span",null,"Enable Spaced Repetition Scheduled",-1)),mn=G(()=>o.createElementVNode("label",{class:"srs-label",for:"switch"},"toggle",-1)),hn=3e3,gn=O(o.defineComponent({__name:"StartPage",emits:["start-quiz","enable-srs"],setup(e,{emit:t}){const n=o.ref(1),s=o.ref("Tutor"),i=o.ref(!1),r=o.ref(null),a=t,c=P();o.onMounted(()=>{o.watchEffect(()=>{const f=c.getquestionnumber();n.value=Math.min(10,f)})});const l=()=>{a("start-quiz",{questionAmount:n.value,mode:s.value})},u=()=>{r.value&&clearTimeout(r.value),n.value>c.getquestionnumber()&&(n.value=c.getquestionnumber(),i.value=!0,r.value=window.setTimeout(()=>{i.value=!1},hn))};return(f,p)=>(o.openBlock(),o.createElementBlock("div",Zs,[tn,o.createVNode(Js),o.createElementVNode("div",en,[o.createElementVNode("div",sn,[o.createElementVNode("p",nn,[o.createTextVNode(" Maximum possible questions: "),o.createElementVNode("span",on,o.toDisplayString(o.unref(c).getquestionnumber()),1)]),o.createElementVNode("div",rn,[an,o.withDirectives(o.createElementVNode("input",{id:"question-amount","onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),type:"number",placeholder:"Question amount",min:"1",max:o.unref(c).getquestionnumber(),onInput:u},null,40,cn),[[o.vModelText,n.value,void 0,{number:!0}]])]),i.value?(o.openBlock(),o.createElementBlock("p",ln," Cannot select more than "+o.toDisplayString(o.unref(c).getquestionnumber())+" questions. ",1)):o.createCommentVNode("",!0),o.createElementVNode("div",null,[un,o.withDirectives(o.createElementVNode("select",{id:"mode-select","onUpdate:modelValue":p[1]||(p[1]=g=>s.value=g)},dn,512),[[o.vModelSelect,s.value]])]),o.createVNode(Xs,{options:[{value:1,label:"Time Option 2",unit:"Min."},{value:1.5,label:"Time Option 1",unit:"Min."}],"option-name":"Time per Question",class:o.normalizeClass(s.value==="Timed"?"":"input-disabled"),disabled:s.value!=="Timed"},null,8,["class","disabled"])])]),s.value==="Tutor"?(o.openBlock(),o.createElementBlock("div",pn,[fn,o.createElementVNode("input",{id:"switch",class:"srs-toggle",type:"checkbox",onClick:p[2]||(p[2]=g=>a("enable-srs"))}),mn])):o.createCommentVNode("",!0),o.createElementVNode("button",{class:"start-button",onClick:l},"Start")]))}}),[["__scopeId","data-v-203111b9"]]),_n=e=>e.trim().toLowerCase().replace("_"," "),bn=e=>e.reduce((t,n)=>{if(!n.includes(":"))return t;let[s,i]=n.split(":");return[s,i]=[s.trim().toLowerCase(),_n(i)],t[s]?t[s]=[...t[s],i]:t[s]=[i],t},{}),re={convertQuestions:e=>e.map(t=>({_id:{$oid:t._id.$oid},statement:t.statement,tags:bn(t.tags),optionsList:t.optionsList,link:t.link,attempts:t.attempts,correctAttempts:t.correctAttempts,lastAttempted:t.lastAttempted}))},yn=[{tags:["course:vets2011","course:vets2011","subject:physiology","system:nervous_system","234:tagvalue","  @#:wr "],statement:"<p>Which part of a neuron receives information from surrounding cells?</p>",optionsList:[{optionValue:"<p>Axon</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Presynaptic terminal</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Cell body</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Dendrite</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Myelin</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6625c7c8c8259deb8c3af39b",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214301b64c71f1df2110cfd",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","course:vets2016","subject: Physiology","system: Nervous System"],statement:"<p>Which of the following statements regarding action potentials is TRUE?</p>",optionsList:[{optionValue:"<p>Multiple depolarising events minimises the chance of action potential generation</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Reaching the subthreshold level does not stimulate the post-synaptic membrane</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Threshold event generates an action potential</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Reaching the subthreshold level is enough to generate an action potential</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Depolarised synaptic membrane is more negative than the hyperpolarised membrane</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac0b",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214407964c71f1df2110d03",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course:vets2012","subject:physiology","animal:horse"],statement:"<p>Action potentials are transmitted along which part of a neuron?</p>",optionsList:[{optionValue:"<p>The membrane is more depolarised</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>The effect of the subthreshold is enhanced</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Action potential is reached</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>A threshold event takes place</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>The membrane is hyperpolarised</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac0a",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214407964c71f1df2110d03",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course:vets2012","subject:physiology","animal:horse"],statement:"<p>Which of the following would NOT be possible occurrences when signal build-up occurs?</p>",optionsList:[{optionValue:"<p>They can reach action potential as a result of EPSP</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>IPSP can hyperpolarise the membrane</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>They can reach action potential as a result of IPSP</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>An action potential will be reached if the number of EPSP &gt; IPSP</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac0d",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214407964c71f1df2110d03",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:dog"],statement:"<p>When is it impossible to generate an action potential?</p>",optionsList:[{optionValue:"<p>Absolute refractory period</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Relative refractory period</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Sodium conductance</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>EPSPs after IPSPs</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Hyperpolarised state</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac0f",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214407964c71f1df2110d03",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2013","course:vets2016","subject:Physiology"],statement:"<p>Which of the following types of glial cells myelinate neurons in the peripheral nervous system?</p>",optionsList:[{optionValue:"<p>Ependymal cells</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Schwann cells</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Muller cells</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Oligodendrocytes</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac11",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214413464c71f1df2110d07",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Atonomy","animal:Horse"],statement:"<p>Which of the following is an attribute of ependymal cells?</p>",optionsList:[{optionValue:"<p>Repair processes</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Cerebrospinal fluid synthesis</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Delivering nutrients</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Recycling of neurotransmitters</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Maintenance of terminal environment</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac10",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214413464c71f1df2110d07",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2013","subject:Physiology","animal:cat"],statement:"<p>Depending on the pre-synaptic neurotransmitter released and the post-synaptic receptor activated, the post-synaptic membrane can either be depolarised or hyperpolarised. Which of the following statements is FALSE?</p>",optionsList:[{optionValue:"<p>Neurotransmitter binding to metabotropic receptors causes a conformational change in pore proteins</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"The action of metabotropic receptors is slower than ionotropic receptors",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Neurotransmitter binding to metabotropic receptors causes a conformational change, activating a signal transduction pathway",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"An example of an ionotropic receptor is the nicotinic acetylcholine receptor",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6539c0bdeb2b18699ed86faa",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62183be064c71f1df2110d0f/62183d5a64c71f1df2110d16",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:Horse"],statement:"Nicotine (mimics acetylcholine) can bind to nicotinic cholinergic receptors. You would expect the response on the post-synaptic membrane to be:",optionsList:[{optionValue:"Excitation due to opening of chloride channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Hyperpolarisation due to blocking of sodium channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Hyperpolarisation due to opening of chloride channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Excitation due to opening of sodium channels",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6539c0bdeb2b18699ed86fac",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62183be064c71f1df2110d0f/62183d5a64c71f1df2110d16",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:Horse"],statement:"&gamma;-aminobutyric acid (GABA) is a rapidly acting neurotransmitter. You would expect the response on the post-synaptic membrane to be:",optionsList:[{optionValue:"Excitation due to opening of chloride channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Hyperpolarisation due to blocking of sodium channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Hyperpolarisation due to opening of chloride channels",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"Excitation due to opening of sodium channels",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6539c0bdeb2b18699ed86fab",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62183be064c71f1df2110d0f/62183d5a64c71f1df2110d16",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:Horse"],statement:"<p>At the neuromuscular junction, Ca<sup>2+</sup>&nbsp;ions are necessary for:</p>",optionsList:[{optionValue:"<p>Binding the transmitter with the post-synaptic receptor</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Facilitating diffusion of the transmitter to the post-synaptic membrane</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Splitting the neurotransmitter in the synaptic cleft, deactivating the transmitter</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Fusing the pre-synaptic vesicle with the pre-synaptic membrane, thus releasing the transmitter</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Metabolising the transmitter within the pre-synaptic vesicle</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6539c0bdeb2b18699ed86fae",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62183be064c71f1df2110d0f/62183d7064c71f1df2110d17",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:Horse"],statement:"<p>Which of the following statements is TRUE with regard to the termination of the synaptic action at the neuromuscular junction?</p>",optionsList:[{optionValue:"<p>The re-uptake of intact acetylcholine molecules into the motor neuron terminal is responsible</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Diffusion of acetylcholine away from the synapse is solely responsible</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Acetylcholinesterase rapidly breaks down acetylcholine into choline and acetate</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Dissociation of acetylcholine from the muscarinic receptor, after binding for several seconds, is solely responsible</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6539c0bdeb2b18699ed86fad",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62183be064c71f1df2110d0f/62183d7064c71f1df2110d17",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{tags:["course: VETS2012","subject:Physiology","animal:Horse"],statement:"<p>Which part of a neuron receives information from surrounding cells?</p>",optionsList:[{optionValue:"<p>Axon</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Presynaptic terminal</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Cell body</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Dendrite</p>",optionCorrect:!0,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},{optionValue:"<p>Myelin</p>",optionCorrect:!1,attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],_id:{$oid:"6615c7fb49fbda0108a9ac06",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")},label:"Placeholder label 1",link:"https://vetshub.uqcloud.net/resource/5a0ba18d34cc363763e05e99/61a9ae14e04e3d5bffb26ef7/62142eee64c71f1df2110cf5/62142f2764c71f1df2110cf7/6214301b64c71f1df2110cfd",attempts:0,correctAttempts:0,lastAttempted:new Date("2024-08-07T09:55:35.944+00:00")}],D={isString:a=>typeof a=="string",isObject:a=>typeof a=="object"&&a!==null,isBoolean:a=>typeof a=="boolean",isArray:(a,c)=>Array.isArray(a)&&a.every(c),isNumber:a=>typeof a=="number",isFunction:a=>typeof a=="function"};function Et(e){const t=e.includes(":")&&e.split(":").length===2,n=!e.includes(":")&&!e.includes(" ");return t||n}function ae(e,t=!1){return D.isArray(e,D.isString)?t?e.every(Et):e.some(Et):!1}function wn(e){return D.isObject(e)&&D.isString(e.optionValue)&&(e.optionCorrect===void 0||D.isBoolean(e.optionCorrect))}function ce(e){return D.isObject(e)&&D.isObject(e._id)&&D.isString(e._id.$oid)&&D.isString(e.statement)&&ae(e.tags)&&D.isArray(e.optionsList,wn)&&D.isString(e.link)}function An(e){return D.isArray(e,ce)}const ut={isMCQuestion:ce,isMCQuestionArray:An,validateTags:ae,isTag:Et},Tn=e=>{try{if(!e)throw new Error("No question data found. Please Try again later.");return re.convertQuestions(le(e))}catch(t){return alert(t),[]}},Sn=()=>yn,En=()=>{const e=Sn();return re.convertQuestions(le(e))};function le(e){ut.isMCQuestionArray(e)?console.info("%cAll questions are valid","color: #00FF00",`
Total Questions Validated:`,e.length):console.warn("%cWARNING: Some questions contains invalid structure","color: #FF0000");const t={invalidTags:0,noTags:0,invalidQs:0,totalTags:0},n=e.reduce((s,i)=>{if(!ut.isMCQuestion(i))return{...s,invalidQs:s.invalidQs+1};let{tags:r}=i;if(!r||Array.isArray(r)&&!r.length)return{...s,noTags:s.noTags+1};const a=s.totalTags+r.length;if(!ut.validateTags(r,!0)){const c=r.filter(u=>ut.isTag(u)),l=s.invalidTags+r.length-c.length;return r=c,{...s,invalidTags:l,totalTags:a}}return{...s,totalTags:a}},t);return kn(n,e.length),e}function kt(e,t){e&&console.warn(t,"color: #FF0000")}function kn(e,t){const{invalidQs:n,invalidTags:s,noTags:i,totalTags:r}=e;kt(n,`Invalid Questions Received: %c${n} out of ${t}`),kt(s,`Filtering out invalid tags: %c${s} out of ${r}`),kt(i,`Questions with no tags: %c${i}`)}const ue=o.defineComponent({__name:"CrucibleComponent",props:{level:{type:Number,default:5}},setup(e){const t=e,n=o.ref(!1),s=o.ref(0),i=P(),r=o.ref(!1),a=o.ref([]),c=o.inject("$dataLink"),{level:l}=o.toRefs(t);o.onBeforeMount(async()=>{if(c){const g=await(async()=>(await(await fetch(`${c}?level=${l.value}`)).json()).questions)();a.value=Tn(g)}else a.value=En();i.allQs=a.value;const f=ee(a.value.map(p=>p.tags));i.setselectedTags(Object.keys(f).reduce((p,g)=>({...p,[g]:[]}),{})),i.setTagSet()});const u=({questionAmount:f,mode:p})=>{const g=i.getselectedtags();if(!a.value.length)return alert("Trouble fetching questions, please try again later");const y=St(a.value,g),S=n.value?gs(f,y):hs(f,y);s.value=S.length,i.initialiseQuiz(S,p),p==="Timed"&&i.setTimeLimit(f*i.timeLimit),r.value=!0};return(f,p)=>(o.openBlock(),o.createElementBlock(o.Fragment,null,[r.value&&o.unref(i).quizMode==="Tutor"?(o.openBlock(),o.createBlock(Ls,{key:0})):r.value&&o.unref(i).quizMode==="Timed"?(o.openBlock(),o.createBlock(js,{key:1})):(o.openBlock(),o.createBlock(gn,{key:2,onStartQuiz:u,onEnableSrs:p[0]||(p[0]=()=>n.value=!n.value)})),o.createTextVNode(" "+o.toDisplayString(n.value),1)],64))}}),de={data:{questions:[{_id:{$oid:"6625c7c8c8259deb8c3af39e"},statement:"",tags:[""],optionsList:{optionValue:"",optionCorrect:!1},link:""}]}},Ct=async(e,t)=>{};function Cn(e,t={}){const n=qe();e.use(n),e.component("CrucibleComponent",ue),e.provide("$dataLink",t.dataLink||de),e.provide("$updateQAttemptCallback",t.updateQAttemptCallback||Ct)}v.CrucibleComponent=ue,v.createViewerPlugin=Cn,v.defaultData=de,v.defaultUpdateQAttemptCallback=Ct,Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})});
